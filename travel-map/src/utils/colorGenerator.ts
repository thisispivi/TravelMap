/**
 * Generates a color based on a string input
 * @param inputString
 * @returns
 */
export function stringToColor(inputString: string, opacity = 1): string {
  const inputHash = stringToHash(inputString);
  const colorIndex = Math.abs(inputHash % colorList.length);

  const rgbaColor = colorList[colorIndex];
  const rgbaString = `rgba(${rgbaColor[0]}, ${rgbaColor[1]}, ${rgbaColor[2]}, ${opacity})`;

  return rgbaString;
}

/**
 * Generates a hash based on a string input
 * @param inputString
 * @returns
 */
function stringToHash(inputString: string): number {
  let hash = 0;
  for (let i = 0; i < inputString.length; i++) {
    const char = inputString.charCodeAt(i);
    hash = (hash << 5) - hash + char;
    hash = hash & hash;
  }
  return hash;
}

const colorList: [number, number, number][] = [
  [135, 31, 120],
  [30, 62, 153],
  [228, 25, 76],
  [0, 137, 123],
  [245, 130, 32],
  [51, 105, 30],
  [171, 9, 89],
  [23, 86, 165],
  [198, 39, 37],
  [0, 114, 79],
  [252, 180, 35],
  [10, 78, 142],
  [214, 33, 89],
  [33, 89, 77],
  [253, 141, 60],
  [52, 67, 86],
  [160, 28, 38],
  [34, 102, 102],
  [232, 67, 39],
  [39, 64, 139],
  [226, 61, 40],
  [0, 83, 155],
  [252, 174, 38],
  [13, 63, 50],
  [148, 32, 59],
  [25, 97, 39],
  [255, 109, 35],
  [37, 72, 123],
  [211, 41, 78],
  [33, 73, 87],
  [254, 167, 38],
  [33, 59, 112],
  [184, 33, 41],
  [0, 81, 69],
  [251, 157, 39],
  [26, 62, 97],
  [181, 31, 73],
  [43, 84, 63],
  [242, 118, 32],
  [0, 82, 147],
  [221, 50, 47],
  [30, 70, 59],
  [247, 132, 36],
  [9, 60, 106],
  [192, 38, 43],
  [23, 67, 57],
  [255, 115, 31],
  [16, 74, 101],
  [157, 33, 63],
  [25, 69, 59],
  [255, 138, 28],
  [21, 57, 88],
  [167, 25, 48],
  [16, 58, 55],
  [255, 155, 24],
  [7, 68, 117],
  [121, 26, 61],
  [17, 58, 96],
  [255, 170, 22],
  [2, 63, 82],
  [96, 31, 51],
  [21, 64, 84],
  [255, 187, 20],
  [6, 75, 98],
  [80, 36, 45],
  [22, 71, 92],
  [255, 204, 18],
  [5, 82, 92],
  [66, 42, 42],
  [19, 76, 88],
  [255, 221, 16],
  [3, 90, 86],
  [53, 47, 38],
  [16, 82, 84],
  [255, 238, 14],
  [1, 98, 79],
  [40, 51, 35],
  [14, 87, 79],
  [255, 255, 12],
  [0, 104, 71],
  [27, 54, 33],
  [13, 92, 67],
  [255, 255, 10],
  [0, 111, 62],
  [17, 58, 17],
  [14, 96, 54],
  [255, 255, 8],
  [0, 118, 53],
  [19, 61, 0],
  [15, 100, 42],
  [255, 255, 6],
  [0, 125, 44],
  [22, 65, 0],
  [16, 104, 30],
  [255, 255, 4],
  [0, 132, 35],
  [26, 68, 0],
  [17, 109, 19],
  [255, 255, 2],
  [0, 139, 26],
];
