import{r,u,z as g,j as t,e as j,S as d,A as f,D as v,E as N,B as b,I as k}from"./index-CBHbNybt.js";import{M as S}from"./react-tooltip.min-ZSIsEzrY.js";function C({city:a,onMouseEnter:l,onMouseLeave:s,isOpen:h,setIsOpen:c}){const{t:_,currentLanguage:p}=u(["home"]),[e,m]=r.useState(0),n=a.travels.filter(o=>!o.isFuture),x=g(),i=o=>t.jsx("div",{className:`map-tooltip__backdrop ${o}`,onMouseEnter:()=>l&&l(a),onMouseLeave:()=>s&&s()});return r.useEffect(()=>{const o=()=>document.hidden&&c(!1);return document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o)}},[c]),t.jsxs(S,{anchorSelect:`#${a.name}-marker`,className:"map-tooltip",clickable:!0,id:a.name,isOpen:h,noArrow:!0,opacity:1,variant:"light",children:[i("map-tooltip__backdrop--top"),i("map-tooltip__backdrop--right"),i("map-tooltip__backdrop--bottom"),i("map-tooltip__backdrop--left"),t.jsxs("div",{className:"map-tooltip__container",onMouseEnter:()=>l&&l(a),onMouseLeave:()=>s&&s(),children:[t.jsxs("div",{className:"map-tooltip__header",children:[t.jsx("h3",{children:a.getName(_)}),t.jsx(j,{countryId:a.country.id})]}),n[e]?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"map-tooltip__content",children:[t.jsx(d,{className:`map-tooltip__content__chevron-icon map-tooltip__content__chevron-icon--left ${e>0?"":"map-tooltip__content__chevron-icon--disabled"}`,onClick:()=>e>0&&m(e-1)}),t.jsxs("div",{className:"map-tooltip__content__travel",children:[t.jsxs("div",{className:"map-tooltip__content__travel__info",children:[t.jsx(f,{className:"map-tooltip__content__travel__icon"}),t.jsx("p",{children:v(n[e].sDate,p)})]}),t.jsxs("div",{className:"map-tooltip__content__travel__info",children:[t.jsx(N,{className:"map-tooltip__content__travel__icon"}),t.jsx("p",{children:v(n[e].eDate,p)})]})]}),t.jsx(d,{className:`map-tooltip__content__chevron-icon ${e<n.length-1?"":"map-tooltip__content__chevron-icon--disabled"}`,onClick:()=>e<n.length-1&&m(e+1)})]}),t.jsx("div",{className:"map-tooltip__footer",children:t.jsxs(b,{className:"map-tooltip__footer__button",onClick:()=>x(`/gallery/${a.name}/${e}?from=map`),children:[t.jsx(k,{}),t.jsx("p",{children:_("galleryAlt")})]})})]}):null]})]},a.name)}const E=r.memo(C);export{E as default};
