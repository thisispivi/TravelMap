import{d as z,j as s,z as _e,r as F,C as ae}from"./vendor-RXEfq5VG.js";import{u as ie,m as se,L as ue,B as he,H as ve}from"./index-ChRnk8Ci.js";import{r as be,x as pe}from"./icons-DUK9PBCI.js";import{C as de}from"./CountryFlag-CuH2Tpzf.js";import{a as Ce,C as xe}from"./map-B9BjKwi7.js";import{p as ge,c as re}from"./parameters-C32d5X4B.js";import{f as je}from"./date-C2byfksU.js";import{P as ye}from"./PositionButton-XsYMYr-b.js";import{a as Ne}from"./cities-DjhQdHAO.js";function $e(b){const e=z.c(3),{onClick:o,isVisible:t,className:i}=b,f=`backdrop  ${(t===void 0?!0:t)?"backdrop--visible":""} ${i===void 0?"":i}
      `;let c;return e[0]!==o||e[1]!==f?(c=s.jsx("div",{className:f,onClick:o}),e[0]=o,e[1]=f,e[2]=c):c=e[2],c}function Se(b){const e=z.c(2),{isChecked:o}=b,t=o?"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z":"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM19 19H5V5H19V19Z";let i;return e[0]!==t?(i=s.jsx("svg",{fill:"none",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:t,fill:"currentColor"})}),e[0]=t,e[1]=i):i=e[1],i}function ke(b){const e=z.c(49),{className:o,city:t,travel:i,travelIdx:j,isClickable:n,setHoveredCity:f,setMapPosition:c,isAutoPosition:l,isHidden:a}=b,T=o===void 0?"":o,r=j===void 0?0:j,m=n===void 0?!1:n,$=l===void 0?!1:l,d=a===void 0?!1:a;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const E=ie(u).currLanguage,R=Ce();let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=["home"],e[1]=w):w=e[1];const{t:L}=ie(w);let _;e[2]!==t||e[3]!==$||e[4]!==f||e[5]!==c?(_=()=>{se()||(c&&t.mapCoordinates&&$&&c({center:t.mapCoordinates,zoom:ge.map.hoveredCityZoom}),f&&f(t))},e[2]=t,e[3]=$,e[4]=f,e[5]=c,e[6]=_):_=e[6];const V=_;let H;e[7]!==f?(H=()=>{se()||f&&f(null)},e[7]=f,e[8]=H):H=e[8];const P=H,S=`city-card ${m?"city-card--clickable":"city-card--not-clickable"} 
      ${se()?"city-card--mobile":"city-card--desktop"}
      ${d?"city-card--hidden":"city-card--visible"}
      `;let y;e[9]!==t.name||e[10]!==m||e[11]!==R||e[12]!==r?(y=m?()=>R(`/gallery/${t.name}/${r}`):void 0,e[9]=t.name,e[10]=m,e[11]=R,e[12]=r,e[13]=y):y=e[13];const h=`city-card__top ${T} ${t.name} ${t.name}-${r}`;let B;e[14]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("div",{className:"city-card__background-overlay"}),e[14]=B):B=e[14];let p;e[15]!==t||e[16]!==L?(p=t.getName(L),e[15]=t,e[16]=L,e[17]=p):p=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"centered",children:s.jsx(ue,{})}),e[18]=k):k=e[18];let C;e[19]!==t||e[20]!==r?(C=t.getBackgroundImgSourceByIndex(r)||void 0,e[19]=t,e[20]=r,e[21]=C):C=e[21];let I;e[22]!==p||e[23]!==C?(I=s.jsxs("div",{className:"city-card__background",children:[B,s.jsx(_e.LazyLoadImage,{alt:p,className:"city-card__background-img",effect:"opacity",placeholder:k,src:C})]}),e[22]=p,e[23]=C,e[24]=I):I=e[24];let x;e[25]!==h||e[26]!==I?(x=s.jsx("div",{className:h,children:I}),e[25]=h,e[26]=I,e[27]=x):x=e[27];let N;e[28]!==t.country.id?(N=s.jsx(de,{className:"city-card__country",countryId:t.country.id}),e[28]=t.country.id,e[29]=N):N=e[29];let g;e[30]!==t||e[31]!==L?(g=t.getName(L),e[30]=t,e[31]=L,e[32]=g):g=e[32];let v;e[33]!==g?(v=s.jsx("div",{className:"city-card__title",children:s.jsx("h2",{children:g})}),e[33]=g,e[34]=v):v=e[34];let O;e[35]!==E||e[36]!==i?(O=i?.sDate?s.jsxs("div",{className:"travel-card__info",children:[s.jsx(be,{className:"travel-card__icon"}),s.jsx("p",{children:je({sDateInput:i.sDate,eDateInput:i.eDate,locale:E,includeWeekday:!0,showYear:!1})})]}):null,e[35]=E,e[36]=i,e[37]=O):O=e[37];let A;e[38]!==N||e[39]!==v||e[40]!==O?(A=s.jsxs("div",{className:"city-card__content",children:[N,v,O]}),e[38]=N,e[39]=v,e[40]=O,e[41]=A):A=e[41];let M;return e[42]!==V||e[43]!==P||e[44]!==S||e[45]!==y||e[46]!==x||e[47]!==A?(M=s.jsxs("div",{className:S,onClick:y,onMouseEnter:V,onMouseLeave:P,children:[x,A]}),e[42]=V,e[43]=P,e[44]=S,e[45]=y,e[46]=x,e[47]=A,e[48]=M):M=e[48],M}function Ie(b){const e=z.c(55),{options:o,selected:t,onChange:i,buttonIcon:j,className:n}=b,f=n===void 0?"":n;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=["home"],e[0]=c):c=e[0];const{t:l}=ie(c),[a,T]=F.useState(!1);let r;e[1]!==a?(r=()=>T(!a),e[1]=a,e[2]=r):r=e[2];const m=r,$=F.useRef(null),d=t.length===o.length;let u;e[3]!==d||e[4]!==i||e[5]!==o?(u=()=>{i(d?[]:o)},e[3]=d,e[4]=i,e[5]=o,e[6]=u):u=e[6];const E=u;let R;e[7]!==i||e[8]!==t?(R=g=>{const v=t.includes(g)?t.filter(O=>O!==g):[...t,g];i(v)},e[7]=i,e[8]=t,e[9]=R):R=e[9];const w=R,L=we;let _;e[10]!==a||e[11]!==m?(_=a?s.jsx($e,{className:"filter-backdrop",isVisible:!1,onClick:m}):null,e[10]=a,e[11]=m,e[12]=_):_=e[12];let V;e[13]!==l?(V=l("filterTooltip"),e[13]=l,e[14]=V):V=e[14];const H=`filter__button ${f} ${a?"filter__button--open":""}`;let P;e[15]!==l?(P=l("filterTooltip"),e[15]=l,e[16]=P):P=e[16];let S;e[17]!==j||e[18]!==m||e[19]!==V||e[20]!==H||e[21]!==P?(S=s.jsx(he,{ariaLabel:V,className:H,onClick:m,tooltipContent:P,tooltipId:"base-tooltip",children:j}),e[17]=j,e[18]=m,e[19]=V,e[20]=H,e[21]=P,e[22]=S):S=e[22];let y;e[23]!==d?(y=s.jsx("div",{className:"filter__option--select-all__icon",children:s.jsx(Se,{isChecked:d})}),e[23]=d,e[24]=y):y=e[24];let h;e[25]!==d||e[26]!==l?(h=l(d?"deselectAll":"selectAll"),e[25]=d,e[26]=l,e[27]=h):h=e[27];let B;e[28]!==h?(B=s.jsx("h4",{className:"filter__option--select-all__text",children:h}),e[28]=h,e[29]=B):B=e[29];let p;e[30]!==E||e[31]!==y||e[32]!==B?(p=s.jsxs("div",{className:`${L()} filter__option--select-all`,onClick:E,children:[y,B]}),e[30]=E,e[31]=y,e[32]=B,e[33]=p):p=e[33];let k;if(e[34]!==w||e[35]!==o||e[36]!==t||e[37]!==l){let g;e[39]!==w||e[40]!==t||e[41]!==l?(g=v=>s.jsxs("div",{className:L(t.includes(v)),onClick:()=>w(v),children:[s.jsx(de,{countryId:v.id}),s.jsx("h4",{children:l(`countries.${v.id.replace(" ","")}`)})]},v.id),e[39]=w,e[40]=t,e[41]=l,e[42]=g):g=e[42],k=o.map(g),e[34]=w,e[35]=o,e[36]=t,e[37]=l,e[38]=k}else k=e[38];let C;e[43]!==p||e[44]!==k?(C=s.jsx("div",{className:"filter__options",ref:$,children:s.jsxs("div",{className:"filter__options__list",id:"info-tab",children:[p,k]})}),e[43]=p,e[44]=k,e[45]=C):C=e[45];let I;e[46]!==a||e[47]!==C?(I=s.jsx(xe,{classNames:"filter-transition",in:a,nodeRef:$,timeout:200,unmountOnExit:!0,children:C}),e[46]=a,e[47]=C,e[48]=I):I=e[48];let x;e[49]!==S||e[50]!==I?(x=s.jsxs("div",{className:"filter",children:[S,I]}),e[49]=S,e[50]=I,e[51]=x):x=e[51];let N;return e[52]!==x||e[53]!==_?(N=s.jsxs(s.Fragment,{children:[_,x]}),e[52]=x,e[53]=_,e[54]=N):N=e[54],N}function we(b){const e=b===void 0?!1:b,o=se()?"filter__option--mobile":"";return`filter__option ${e?"filter__option--selected":""} ${o}`.trim()}function Fe(b){const e=z.c(56),{allCountries:o,cities:t,className:i,getTravelIdx:j,id:n,isVisible:f,isGroupedByYear:c}=b,l=i===void 0?"":i,a=f===void 0?!1:f,T=c===void 0?!1:c;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=["home"],e[0]=r):r=e[0];const{t:m}=ie(r),{setHoveredCity:$,setMapPosition:d,isAutoPosition:u,setIsAutoPosition:E,responsive:R,mapPosition:w}=F.useContext(ve),L=o,[_,V]=F.useState(L);let H;e[1]===Symbol.for("react.memo_cache_sentinel")?(H=Y=>V(Y),e[1]=H):H=e[1];const P=H;let S;e[2]!==_?(S=[..._].sort(Le),e[2]=_,e[3]=S):S=e[3];const y=S,[h,B]=F.useState(re.GROUP_BY_CITIES_DEFAULT_OPENED_YEAR);let p;e[4]!==h?(p=Y=>h!==Y?B(Y):void 0,e[4]=h,e[5]=p):p=e[5];const k=p,[C,I]=F.useState(!1),x=F.useRef(null);let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{if(x.current){const Y=x.current;I(Y.scrollHeight>Y.clientHeight)}},e[6]=N):N=e[6];const g=N;let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{g();const Y=()=>g();return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},e[7]=v):v=e[7];let O;e[8]!==t||e[9]!==_||e[10]!==a||e[11]!==h?(O=[t,_,h,a],e[8]=t,e[9]=_,e[10]=a,e[11]=h,e[12]=O):O=e[12],F.useEffect(v,O);let A;e[13]!==t?(A=Ne(t,{cutoffYear:re.GROUP_BY_CITIES_CUTOFF_YEAR}),e[13]=t,e[14]=A):A=e[14];const M=A;if(!a)return null;let Q;e[15]!==_||e[16]!==j||e[17]!==n||e[18]!==u||e[19]!==w||e[20]!==$||e[21]!==d?(Q=Y=>s.jsxs(s.Fragment,{children:[Y.map(D=>{const K=D.travels[0],fe=!_.includes(D.country),me=!!K?.photos?.length;return s.jsx(ke,{city:D,isAutoPosition:u,isClickable:me,isHidden:fe,mapPosition:w,setHoveredCity:$,setMapPosition:d,travel:K,travelIdx:K?j?.(D,K):void 0},D.name)}),Y.reduce((D,K)=>D+(_.includes(K.country)?1:0),0)%2!==0?s.jsx("div",{className:`info-tab-cities__void-city info-tab-${n}__void-city city-card city-card--no-box-shadow`}):null]}),e[15]=_,e[16]=j,e[17]=n,e[18]=u,e[19]=w,e[20]=$,e[21]=d,e[22]=Q):Q=e[22];const X=Q;let ee;e[23]!==t||e[24]!==M||e[25]!==C||e[26]!==n||e[27]!==T||e[28]!==X||e[29]!==h||e[30]!==k?(ee=T?s.jsx(Ee,{contentRef:x,groups:M,hasOverflow:C,id:n,renderCityCards:X,selectedYear:h,toggleYear:k}):s.jsx(He,{cities:t,contentRef:x,hasOverflow:C,id:n,renderCityCards:X}),e[23]=t,e[24]=M,e[25]=C,e[26]=n,e[27]=T,e[28]=X,e[29]=h,e[30]=k,e[31]=ee):ee=e[31];const le=ee,oe=`info-tab-cities info-tab-${n} ${l} 
    ${a?"info-tab-cities--visible":""}
    `,ne=`info-tab-cities__header info-tab-${n}__header`,ce=n+".title";let Z;e[32]!==m||e[33]!==ce?(Z=m(ce),e[32]=m,e[33]=ce,e[34]=Z):Z=e[34];let U;e[35]!==Z?(U=s.jsx("h1",{children:Z}),e[35]=Z,e[36]=U):U=e[36];let G;e[37]!==u||e[38]!==R||e[39]!==E?(G=s.jsx(ye,{isAutoPosition:u,responsive:R,setIsAutoPosition:E}),e[37]=u,e[38]=R,e[39]=E,e[40]=G):G=e[40];let W;e[41]!==L||e[42]!==n||e[43]!==y?(W=n==="visited"?s.jsx(Ie,{buttonIcon:s.jsx(pe,{className:"filter__icon"}),onChange:P,options:L,selected:y}):null,e[41]=L,e[42]=n,e[43]=y,e[44]=W):W=e[44];let q;e[45]!==G||e[46]!==W?(q=s.jsxs("div",{className:"info-tab-cities__header__buttons",children:[G,W]}),e[45]=G,e[46]=W,e[47]=q):q=e[47];let J;e[48]!==ne||e[49]!==U||e[50]!==q?(J=s.jsxs("div",{className:ne,children:[U,q]}),e[48]=ne,e[49]=U,e[50]=q,e[51]=J):J=e[51];let te;return e[52]!==le||e[53]!==oe||e[54]!==J?(te=s.jsxs("div",{className:oe,children:[J,le]}),e[52]=le,e[53]=oe,e[54]=J,e[55]=te):te=e[55],te}function Le(b,e){return b.id.localeCompare(e.id)}function Ee(b){const e=z.c(21),{groups:o,selectedYear:t,toggleYear:i,renderCityCards:j,id:n,hasOverflow:f,contentRef:c}=b;let l;if(e[0]!==o||e[1]!==t||e[2]!==i){let d;e[4]!==t||e[5]!==i?(d=(u,E)=>s.jsx("button",{className:`info-tab-cities__year__button ${t===parseInt(u)?"info-tab-cities__year__button--active":""}`,onClick:()=>i(parseInt(u)),type:"button",children:`${E===0?"â‰¤ ":""}${u}`},u),e[4]=t,e[5]=i,e[6]=d):d=e[6],l=ae(o).map(d),e[0]=o,e[1]=t,e[2]=i,e[3]=l}else l=e[3];let a;e[7]!==l?(a=s.jsx("div",{className:"info-tab-cities__header info-tab-cities__year__selector",children:l}),e[7]=l,e[8]=a):a=e[8];const T=`info-tab-cities__content--grouped ${f?"info-tab-cities__content--overflow":""}`;let r;e[9]!==o||e[10]!==n||e[11]!==j||e[12]!==t?(r=ae(o).map(d=>s.jsx("div",{className:"info-tab-cities__year-group",children:t===parseInt(d)?s.jsx("div",{className:`info-tab-cities__content info-tab-${n}__content`,children:j(o[d])}):null},d)),e[9]=o,e[10]=n,e[11]=j,e[12]=t,e[13]=r):r=e[13];let m;e[14]!==c||e[15]!==T||e[16]!==r?(m=s.jsx("div",{className:T,id:"info-tab",ref:c,children:r}),e[14]=c,e[15]=T,e[16]=r,e[17]=m):m=e[17];let $;return e[18]!==a||e[19]!==m?($=s.jsxs(s.Fragment,{children:[a,m]}),e[18]=a,e[19]=m,e[20]=$):$=e[20],$}function He(b){const e=z.c(7),{id:o,renderCityCards:t,cities:i,hasOverflow:j,contentRef:n}=b,f=`info-tab-cities__content info-tab-cities__content--single info-tab-${o}__content ${j?"info-tab-cities__content--overflow":""}`;let c;e[0]!==i||e[1]!==t?(c=t(i),e[0]=i,e[1]=t,e[2]=c):c=e[2];let l;return e[3]!==n||e[4]!==f||e[5]!==c?(l=s.jsx("div",{className:f,id:"info-tab",ref:n,children:c}),e[3]=n,e[4]=f,e[5]=c,e[6]=l):l=e[6],l}export{Fe as I};
