import{d as z,j as s,w as fe,r as D,x as ne}from"./vendor-BcpBRJU8.js";import{u as Q,m as K,B as ae,L as me,H as _e}from"./index-OCIUjIqr.js";import{C as ue}from"./data-CpliHTnV.js";import{x as he,r as ve,y as be}from"./icons-TCcohpgO.js";import{C as re}from"./CountryFlag-CKp6Erkw.js";import{C as pe}from"./map-QFWzaBwh.js";import{p as Ce,c as ce}from"./parameters-CYSAYmNm.js";import{f as xe}from"./date-D4_4G86a.js";import{a as ge}from"./router-JuuIkx1m.js";import{a as je}from"./cities-cOHKZ-ZG.js";function ye(b){const e=z.c(3),{onClick:l,isVisible:t,className:o}=b,r=`backdrop  ${(t===void 0?!0:t)?"backdrop--visible":""} ${o===void 0?"":o}
      `;let a;return e[0]!==l||e[1]!==r?(a=s.jsx("div",{className:r,onClick:l}),e[0]=l,e[1]=r,e[2]=a):a=e[2],a}function Ne(b){const e=z.c(14),{isAutoPosition:l,setIsAutoPosition:t,responsive:o}=b;let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=["home"],e[0]=_):_=e[0];const{t:n}=Q(_);if(K()||o.window.width<=460)return null;let r;e[1]!==n?(r=n("autoPositionTooltip"),e[1]=n,e[2]=r):r=e[2];const a=`info-tab-cities__position-button ${l?"info-tab-cities__position-button--auto-position":""}`;let i;e[3]!==l||e[4]!==t?(i=()=>t(!l),e[3]=l,e[4]=t,e[5]=i):i=e[5];let c;e[6]!==n?(c=n("autoPositionTooltip"),e[6]=n,e[7]=c):c=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(he,{}),e[8]=y):y=e[8];let d;return e[9]!==r||e[10]!==a||e[11]!==i||e[12]!==c?(d=s.jsx(ae,{ariaLabel:r,className:a,onClick:i,tooltipContent:c,tooltipId:"base-tooltip",children:y}),e[9]=r,e[10]=a,e[11]=i,e[12]=c,e[13]=d):d=e[13],d}function $e(b){const e=z.c(2),{isChecked:l}=b,t=l?"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z":"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM19 19H5V5H19V19Z";let o;return e[0]!==t?(o=s.jsx("svg",{fill:"none",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:t,fill:"currentColor"})}),e[0]=t,e[1]=o):o=e[1],o}function Se(b){const e=z.c(46),{className:l,city:t,travel:o,travelIdx:_,isClickable:n,setHoveredCity:r,setMapPosition:a,isAutoPosition:i,isHidden:c}=b,y=l===void 0?"":l,d=_===void 0?0:_,u=n===void 0?!1:n,k=i===void 0?!1:i,f=c===void 0?!1:c;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const H=Q(h).currLanguage,T=ge();let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=["home"],e[1]=w):w=e[1];const{t:L}=Q(w);let N;e[2]!==t||e[3]!==k||e[4]!==r||e[5]!==a?(N=()=>{K()||(a&&t.mapCoordinates&&k&&a({center:t.mapCoordinates,zoom:Ce.map.hoveredCityZoom}),r&&r(t))},e[2]=t,e[3]=k,e[4]=r,e[5]=a,e[6]=N):N=e[6];const v=N;let V;e[7]!==r?(V=()=>{K()||r&&r(null)},e[7]=r,e[8]=V):V=e[8];const I=V,Y=`city-card ${u?"city-card--clickable":"city-card--not-clickable"} 
      ${K()?"city-card--mobile":"city-card--desktop"}
      ${f?"city-card--hidden":"city-card--visible"}
      `;let m;e[9]!==t.name||e[10]!==u||e[11]!==T||e[12]!==d?(m=u?()=>T(`/gallery/${t.name}/${d}`):void 0,e[9]=t.name,e[10]=u,e[11]=T,e[12]=d,e[13]=m):m=e[13];const A=`city-card__top ${y} ${t.name} ${t.name}-${d}`;let $;e[14]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("div",{className:"city-card__background-overlay"}),e[14]=$):$=e[14];let j;e[15]!==t||e[16]!==L?(j=t.getName(L),e[15]=t,e[16]=L,e[17]=j):j=e[17];let S;e[18]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"centered",children:s.jsx(me,{})}),e[18]=S):S=e[18];const R=t.backgroundImgsSrc[d];let x;e[19]!==j||e[20]!==R?(x=s.jsxs("div",{className:"city-card__background",children:[$,s.jsx(fe.LazyLoadImage,{alt:j,className:"city-card__background-img",effect:"opacity",placeholder:S,src:R})]}),e[19]=j,e[20]=R,e[21]=x):x=e[21];let g;e[22]!==A||e[23]!==x?(g=s.jsx("div",{className:A,children:x}),e[22]=A,e[23]=x,e[24]=g):g=e[24];let E;e[25]!==t.country.id?(E=s.jsx(re,{className:"city-card__country",countryId:t.country.id}),e[25]=t.country.id,e[26]=E):E=e[26];let p;e[27]!==t||e[28]!==L?(p=t.getName(L),e[27]=t,e[28]=L,e[29]=p):p=e[29];let C;e[30]!==p?(C=s.jsx("div",{className:"city-card__title",children:s.jsx("h2",{children:p})}),e[30]=p,e[31]=C):C=e[31];let P;e[32]!==H||e[33]!==o?(P=o?.sDate?s.jsxs("div",{className:"travel-card__info",children:[s.jsx(ve,{className:"travel-card__icon"}),s.jsx("p",{children:xe({sDateInput:o.sDate,eDateInput:o.eDate,locale:H,includeWeekday:!0,showYear:!1})})]}):null,e[32]=H,e[33]=o,e[34]=P):P=e[34];let B;e[35]!==E||e[36]!==C||e[37]!==P?(B=s.jsxs("div",{className:"city-card__content",children:[E,C,P]}),e[35]=E,e[36]=C,e[37]=P,e[38]=B):B=e[38];let M;return e[39]!==v||e[40]!==I||e[41]!==Y||e[42]!==m||e[43]!==g||e[44]!==B?(M=s.jsxs("div",{className:Y,onClick:m,onMouseEnter:v,onMouseLeave:I,children:[g,B]}),e[39]=v,e[40]=I,e[41]=Y,e[42]=m,e[43]=g,e[44]=B,e[45]=M):M=e[45],M}function ke(b){const e=z.c(55),{options:l,selected:t,onChange:o,buttonIcon:_,className:n}=b,r=n===void 0?"":n;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["home"],e[0]=a):a=e[0];const{t:i}=Q(a),[c,y]=D.useState(!1);let d;e[1]!==c?(d=()=>y(!c),e[1]=c,e[2]=d):d=e[2];const u=d,k=D.useRef(null),f=t.length===l.length;let h;e[3]!==f||e[4]!==o||e[5]!==l?(h=()=>{o(f?[]:l)},e[3]=f,e[4]=o,e[5]=l,e[6]=h):h=e[6];const H=h;let T;e[7]!==o||e[8]!==t?(T=p=>{const C=t.includes(p)?t.filter(P=>P!==p):[...t,p];o(C)},e[7]=o,e[8]=t,e[9]=T):T=e[9];const w=T,L=Ie;let N;e[10]!==c||e[11]!==u?(N=c?s.jsx(ye,{className:"filter-backdrop",isVisible:!1,onClick:u}):null,e[10]=c,e[11]=u,e[12]=N):N=e[12];let v;e[13]!==i?(v=i("filterTooltip"),e[13]=i,e[14]=v):v=e[14];const V=`filter__button ${r} ${c?"filter__button--open":""}`;let I;e[15]!==i?(I=i("filterTooltip"),e[15]=i,e[16]=I):I=e[16];let Y;e[17]!==_||e[18]!==u||e[19]!==v||e[20]!==V||e[21]!==I?(Y=s.jsx(ae,{ariaLabel:v,className:V,onClick:u,tooltipContent:I,tooltipId:"base-tooltip",children:_}),e[17]=_,e[18]=u,e[19]=v,e[20]=V,e[21]=I,e[22]=Y):Y=e[22];let m;e[23]!==f?(m=s.jsx("div",{className:"filter__option--select-all__icon",children:s.jsx($e,{isChecked:f})}),e[23]=f,e[24]=m):m=e[24];let A;e[25]!==f||e[26]!==i?(A=i(f?"deselectAll":"selectAll"),e[25]=f,e[26]=i,e[27]=A):A=e[27];let $;e[28]!==A?($=s.jsx("h4",{className:"filter__option--select-all__text",children:A}),e[28]=A,e[29]=$):$=e[29];let j;e[30]!==H||e[31]!==m||e[32]!==$?(j=s.jsxs("div",{className:`${L()} filter__option--select-all`,onClick:H,children:[m,$]}),e[30]=H,e[31]=m,e[32]=$,e[33]=j):j=e[33];let S;if(e[34]!==w||e[35]!==l||e[36]!==t||e[37]!==i){let p;e[39]!==w||e[40]!==t||e[41]!==i?(p=C=>s.jsxs("div",{className:L(t.includes(C)),onClick:()=>w(C),children:[s.jsx(re,{countryId:C.id}),s.jsx("h4",{children:i(`countries.${C.id.replace(" ","")}`)})]},C.id),e[39]=w,e[40]=t,e[41]=i,e[42]=p):p=e[42],S=l.map(p),e[34]=w,e[35]=l,e[36]=t,e[37]=i,e[38]=S}else S=e[38];let R;e[43]!==j||e[44]!==S?(R=s.jsx("div",{className:"filter__options",ref:k,children:s.jsxs("div",{className:"filter__options__list",id:"info-tab",children:[j,S]})}),e[43]=j,e[44]=S,e[45]=R):R=e[45];let x;e[46]!==c||e[47]!==R?(x=s.jsx(pe,{classNames:"filter-transition",in:c,nodeRef:k,timeout:200,unmountOnExit:!0,children:R}),e[46]=c,e[47]=R,e[48]=x):x=e[48];let g;e[49]!==Y||e[50]!==x?(g=s.jsxs("div",{className:"filter",children:[Y,x]}),e[49]=Y,e[50]=x,e[51]=g):g=e[51];let E;return e[52]!==g||e[53]!==N?(E=s.jsxs(s.Fragment,{children:[N,g]}),e[52]=g,e[53]=N,e[54]=E):E=e[54],E}function Ie(b){const e=b===void 0?!1:b,l=K()?"filter__option--mobile":"";return`filter__option ${e?"filter__option--selected":""} ${l}`.trim()}function Fe(b){const e=z.c(56),{allCountries:l,cities:t,className:o,getTravelIdx:_,id:n,isVisible:r,isGroupedByYear:a}=b,i=o===void 0?"":o,c=r===void 0?!1:r,y=a===void 0?!1:a;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["home"],e[0]=d):d=e[0];const{t:u}=Q(d),{setHoveredCity:k,setMapPosition:f,isAutoPosition:h,setIsAutoPosition:H,responsive:T,mapPosition:w}=D.useContext(_e);let L;e[1]!==l?(L=Object.values(l),e[1]=l,e[2]=L):L=e[2];const N=L,[v,V]=D.useState(N);let I;e[3]===Symbol.for("react.memo_cache_sentinel")?(I=O=>V(O),e[3]=I):I=e[3];const Y=I,[m,A]=D.useState(ce.GROUP_BY_CITIES_DEFAULT_OPENED_YEAR);let $;e[4]!==m?($=O=>m!==O?A(O):void 0,e[4]=m,e[5]=$):$=e[5];const j=$,[S,R]=D.useState(!1),x=D.useRef(null);let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{if(x.current){const O=x.current;R(O.scrollHeight>O.clientHeight)}},e[6]=g):g=e[6];const E=g;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{E();const O=()=>E();return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},e[7]=p):p=e[7];let C;e[8]!==t||e[9]!==v||e[10]!==c||e[11]!==m?(C=[t,v,m,c],e[8]=t,e[9]=v,e[10]=c,e[11]=m,e[12]=C):C=e[12],D.useEffect(p,C);let P;e[13]!==t?(P=je(t,{cutoffYear:ce.GROUP_BY_CITIES_CUTOFF_YEAR}),e[13]=t,e[14]=P):P=e[14];const B=P;if(!c)return null;let M;e[15]!==v||e[16]!==_||e[17]!==n||e[18]!==h||e[19]!==w||e[20]!==k||e[21]!==f?(M=O=>s.jsxs(s.Fragment,{children:[O.map((F,de)=>s.jsx(Se,{city:new ue(F),isAutoPosition:h,isClickable:F.travels.length>0&&F.travels[0].photos.length>0,isHidden:!v.includes(F.country),mapPosition:w,setHoveredCity:k,setMapPosition:f,travel:F.travels[0],travelIdx:_?.(F,F.travels[0])},de)),O.filter(F=>v.includes(F.country)).length%2!==0?s.jsx("div",{className:`info-tab-cities__void-city info-tab-${n}__void-city city-card city-card--no-box-shadow`}):null]}),e[15]=v,e[16]=_,e[17]=n,e[18]=h,e[19]=w,e[20]=k,e[21]=f,e[22]=M):M=e[22];const X=M;let ee;e[23]!==t||e[24]!==B||e[25]!==S||e[26]!==n||e[27]!==y||e[28]!==X||e[29]!==m||e[30]!==j?(ee=y?s.jsx(Le,{contentRef:x,groups:B,hasOverflow:S,id:n,renderCityCards:X,selectedYear:m,toggleYear:j}):s.jsx(Ee,{cities:t,contentRef:x,hasOverflow:S,id:n,renderCityCards:X}),e[23]=t,e[24]=B,e[25]=S,e[26]=n,e[27]=y,e[28]=X,e[29]=m,e[30]=j,e[31]=ee):ee=e[31];const se=ee,ie=`info-tab-cities info-tab-${n} ${i} 
    ${c?"info-tab-cities--visible":""}
    `,le=`info-tab-cities__header info-tab-${n}__header`,oe=n+".title";let Z;e[32]!==u||e[33]!==oe?(Z=u(oe),e[32]=u,e[33]=oe,e[34]=Z):Z=e[34];let U;e[35]!==Z?(U=s.jsx("h1",{children:Z}),e[35]=Z,e[36]=U):U=e[36];let G;e[37]!==h||e[38]!==T||e[39]!==H?(G=s.jsx(Ne,{isAutoPosition:h,responsive:T,setIsAutoPosition:H}),e[37]=h,e[38]=T,e[39]=H,e[40]=G):G=e[40];let W;e[41]!==N||e[42]!==v||e[43]!==n?(W=n==="visited"?s.jsx(ke,{buttonIcon:s.jsx(be,{className:"filter__icon"}),onChange:Y,options:N,selected:v.sort(we)}):null,e[41]=N,e[42]=v,e[43]=n,e[44]=W):W=e[44];let q;e[45]!==G||e[46]!==W?(q=s.jsxs("div",{className:"info-tab-cities__header__buttons",children:[G,W]}),e[45]=G,e[46]=W,e[47]=q):q=e[47];let J;e[48]!==le||e[49]!==U||e[50]!==q?(J=s.jsxs("div",{className:le,children:[U,q]}),e[48]=le,e[49]=U,e[50]=q,e[51]=J):J=e[51];let te;return e[52]!==se||e[53]!==ie||e[54]!==J?(te=s.jsxs("div",{className:ie,children:[J,se]}),e[52]=se,e[53]=ie,e[54]=J,e[55]=te):te=e[55],te}function we(b,e){return b.id.localeCompare(e.id)}function Le(b){const e=z.c(21),{groups:l,selectedYear:t,toggleYear:o,renderCityCards:_,id:n,hasOverflow:r,contentRef:a}=b;let i;if(e[0]!==l||e[1]!==t||e[2]!==o){let f;e[4]!==t||e[5]!==o?(f=(h,H)=>s.jsx("button",{className:`info-tab-cities__year__button ${t===parseInt(h)?"info-tab-cities__year__button--active":""}`,onClick:()=>o(parseInt(h)),type:"button",children:`${H===0?"â‰¤ ":""}${h}`},h),e[4]=t,e[5]=o,e[6]=f):f=e[6],i=ne(l).map(f),e[0]=l,e[1]=t,e[2]=o,e[3]=i}else i=e[3];let c;e[7]!==i?(c=s.jsx("div",{className:"info-tab-cities__header info-tab-cities__year__selector",children:i}),e[7]=i,e[8]=c):c=e[8];const y=`info-tab-cities__content--grouped ${r?"info-tab-cities__content--overflow":""}`;let d;e[9]!==l||e[10]!==n||e[11]!==_||e[12]!==t?(d=ne(l).map(f=>s.jsx("div",{className:"info-tab-cities__year-group",children:t===parseInt(f)?s.jsx("div",{className:`info-tab-cities__content info-tab-${n}__content`,children:_(l[f])}):null},f)),e[9]=l,e[10]=n,e[11]=_,e[12]=t,e[13]=d):d=e[13];let u;e[14]!==a||e[15]!==y||e[16]!==d?(u=s.jsx("div",{className:y,id:"info-tab",ref:a,children:d}),e[14]=a,e[15]=y,e[16]=d,e[17]=u):u=e[17];let k;return e[18]!==c||e[19]!==u?(k=s.jsxs(s.Fragment,{children:[c,u]}),e[18]=c,e[19]=u,e[20]=k):k=e[20],k}function Ee(b){const e=z.c(7),{id:l,renderCityCards:t,cities:o,hasOverflow:_,contentRef:n}=b,r=`info-tab-cities__content info-tab-cities__content--single info-tab-${l}__content ${_?"info-tab-cities__content--overflow":""}`;let a;e[0]!==o||e[1]!==t?(a=t(o),e[0]=o,e[1]=t,e[2]=a):a=e[2];let i;return e[3]!==n||e[4]!==r||e[5]!==a?(i=s.jsx("div",{className:r,id:"info-tab",ref:n,children:a}),e[3]=n,e[4]=r,e[5]=a,e[6]=i):i=e[6],i}export{Fe as I};
