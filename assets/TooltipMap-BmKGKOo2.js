import{r as i,u as x,j as t,C as g,B as j}from"./index-sh0UKyrn.js";import{M as f}from"./react-tooltip.min-nwk4aJ2N.js";import{u as N}from"./language-dtidq5SZ.js";import{S as b,f as d,a as k}from"./date-BgtOw-w4.js";import{S as v}from"./DoubleChevron-DEPj1WHy.js";import{S}from"./Gallery-DKeb6DZ6.js";import"./useTranslation-xqisE_th.js";function C({city:e,onMouseEnter:l,onMouseLeave:s,isOpen:h,setIsOpen:c}){const{t:_,currentLanguage:m}=N(["home"]),[o,p]=i.useState(0),n=e.travels.filter(a=>!a.isFuture),u=x(),r=a=>t.jsx("div",{className:`map-tooltip__backdrop ${a}`,onMouseEnter:()=>l&&l(e),onMouseLeave:()=>s&&s()});return i.useEffect(()=>{const a=()=>document.hidden&&c(!1);return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[c]),t.jsxs(f,{anchorSelect:`#${e.name}-marker`,className:"map-tooltip",clickable:!0,id:e.name,isOpen:h,noArrow:!0,opacity:1,variant:"light",children:[r("map-tooltip__backdrop--top"),r("map-tooltip__backdrop--right"),r("map-tooltip__backdrop--bottom"),r("map-tooltip__backdrop--left"),t.jsxs("div",{className:"map-tooltip__container",onMouseEnter:()=>l&&l(e),onMouseLeave:()=>s&&s(),children:[t.jsxs("div",{className:"map-tooltip__header",children:[t.jsx("h3",{children:e.getName(_)}),t.jsx(g,{countryId:e.country.id})]}),n[o]?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"map-tooltip__content",children:[t.jsx(v,{className:`map-tooltip__content__chevron-icon map-tooltip__content__chevron-icon--left ${o>0?"":"map-tooltip__content__chevron-icon--disabled"}`,onClick:()=>o>0&&p(o-1)}),t.jsxs("div",{className:"map-tooltip__content__travel",children:[t.jsxs("div",{className:"map-tooltip__content__travel__info",children:[t.jsx(b,{className:"map-tooltip__content__travel__icon"}),t.jsx("p",{children:d(n[o].sDate,m)})]}),t.jsxs("div",{className:"map-tooltip__content__travel__info",children:[t.jsx(k,{className:"map-tooltip__content__travel__icon"}),t.jsx("p",{children:d(n[o].eDate,m)})]})]}),t.jsx(v,{className:`map-tooltip__content__chevron-icon ${o<n.length-1?"":"map-tooltip__content__chevron-icon--disabled"}`,onClick:()=>o<n.length-1&&p(o+1)})]}),t.jsx("div",{className:"map-tooltip__footer",children:t.jsxs(j,{className:"map-tooltip__footer__button",onClick:()=>u(`/gallery/${e.name}/${o}?from=map`),children:[t.jsx(S,{}),t.jsx("p",{children:_("galleryAlt")})]})})]}):null]})]},e.name)}const L=i.memo(C);export{L as default};
