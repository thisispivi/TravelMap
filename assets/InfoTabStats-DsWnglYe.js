import{d as s,j as t,f as e,b as a,E as n,n as i,x as r,h as c,r as o}from"./vendor-BNBKChTz.js";import{n as l,u as _,T as d,P as m,C as h}from"./index-BjjPusjS.js";import{C as u,g as x,e as j,h as f,i as b,j as N,a as y,v as p,t as w,k as g}from"./data-DhbgoilD.js";import{B as C,C as v,g as T,f as M,c as $,D,E as S,F as O,G as F,H as I,I as A,J as E,K as z,L as R,N as U,O as L,P as k,Q as J,R as P}from"./icons-CevaooeH.js";import"./map-CcUZvwtQ.js";import{p as B,c as H}from"./parameters-Bsn-wIdR.js";import{R as K}from"./Row-BEZnItj2.js";import{C as G}from"./CountryFlag-BMrizQ-E.js";import{b as V}from"./cities-CWlPqdjR.js";import"./gallery-DZ4XqYVz.js";function q(e){const a=s.c(3),{className:n,children:i}=e,r=`card ${void 0===n?"":n}`;let c;return a[0]!==i||a[1]!==r?(c=t.jsx("div",{className:r,children:i}),a[0]=i,a[1]=r,a[2]=c):c=a[2],c}function Y(e){const a=s.c(12),{currency:n,className:i}=e,r=void 0===i?"":i;switch(n){case u.EUR:{let s;return a[0]!==r?(s=t.jsx(D,{className:r}),a[0]=r,a[1]=s):s=a[1],s}case u.GBP:{let s;return a[2]!==r?(s=t.jsx($,{className:r}),a[2]=r,a[3]=s):s=a[3],s}case u.HUF:{let s;return a[4]!==r?(s=t.jsx(M,{className:r}),a[4]=r,a[5]=s):s=a[5],s}case u.JPY:{let s;return a[6]!==r?(s=t.jsx(T,{className:r}),a[6]=r,a[7]=s):s=a[7],s}case u.AUD:{let s;return a[8]!==r?(s=t.jsx(v,{className:r}),a[8]=r,a[9]=s):s=a[9],s}case u.BGN:{let s;return a[10]!==r?(s=t.jsx(C,{className:r}),a[10]=r,a[11]=s):s=a[11],s}default:return null}}function Z(s,t,e=2){return s.toLocaleString(l(t),{maximumFractionDigits:e})}function Q(e){const a=s.c(39),{sCity:n,eCity:i,className:r}=e,c=void 0===n?B.birthCity:n,o=void 0===r?"":r;let l;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=["home"],a[0]=l):l=a[0];const{t:d,currLanguage:m}=_(l);let h,u,j,f,b,N,y;if(a[1]!==o||a[2]!==m||a[3]!==i||a[4]!==c||a[5]!==d){const s=x(c,i);let e;h=K,f=`city-row ${o} row--wrap`,a[11]!==c.country.id?(e=t.jsx(G,{countryId:c.country.id}),a[11]=c.country.id,a[12]=e):e=a[12];const n=`cities.${c.name}`;let r,l,_,N;a[13]!==d||a[14]!==n?(r=d(n),a[13]=d,a[14]=n,a[15]=r):r=a[15],a[16]!==r||a[17]!==e?(l=t.jsxs("p",{className:"city-row__cities__city",children:[e,r]}),a[16]=r,a[17]=e,a[18]=l):l=a[18],a[19]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(S,{className:"city-row__icon"}),a[19]=_):_=a[19],a[20]!==i.country.id?(N=t.jsx(G,{countryId:i.country.id}),a[20]=i.country.id,a[21]=N):N=a[21];const y=`cities.${i.name}`;let p,w;a[22]!==d||a[23]!==y?(p=d(y),a[22]=d,a[23]=y,a[24]=p):p=a[24],a[25]!==N||a[26]!==p?(w=t.jsxs("p",{className:"city-row__cities__city",children:[N,p]}),a[25]=N,a[26]=p,a[27]=w):w=a[27],a[28]!==l||a[29]!==w?(b=t.jsxs("div",{className:"city-row__cities",children:[l,_,w]}),a[28]=l,a[29]=w,a[30]=b):b=a[30],u="city-row__distance",j=Z(s,m),a[1]=o,a[2]=m,a[3]=i,a[4]=c,a[5]=d,a[6]=h,a[7]=u,a[8]=j,a[9]=f,a[10]=b}else h=a[6],u=a[7],j=a[8],f=a[9],b=a[10];return a[31]!==u||a[32]!==j?(N=t.jsxs("b",{className:u,children:[j," km"]}),a[31]=u,a[32]=j,a[33]=N):N=a[33],a[34]!==h||a[35]!==f||a[36]!==b||a[37]!==N?(y=t.jsxs(h,{className:f,children:[b,N]}),a[34]=h,a[35]=f,a[36]=b,a[37]=N,a[38]=y):y=a[38],y}function W(e){const a=s.c(3),{className:n,children:i}=e,r=`column ${void 0===n?"":n}`;let c;return a[0]!==i||a[1]!==r?(c=t.jsx("div",{className:r,children:i}),a[0]=i,a[1]=r,a[2]=c):c=a[2],c}function X(e){const a=s.c(12),{continent:n,isVisited:i}=e;let r;a[0]===Symbol.for("react.memo_cache_sentinel")?(r=["home"],a[0]=r):r=a[0];const{t:c}=_(r),o=`continent-row continent-row--${n}`,l="continent-row__circle continent-row__circle--"+(i?"visited":"not-visited");let d;a[1]!==l?(d=t.jsx("div",{className:l}),a[1]=l,a[2]=d):d=a[2];const m=`continents.${n}`;let h,u,x;return a[3]!==c||a[4]!==m?(h=c(m),a[3]=c,a[4]=m,a[5]=h):h=a[5],a[6]!==h?(u=t.jsx("div",{className:"continent-row__name",children:h}),a[6]=h,a[7]=u):u=a[7],a[8]!==o||a[9]!==d||a[10]!==u?(x=t.jsxs(K,{className:o,children:[d,u]}),a[8]=o,a[9]=d,a[10]=u,a[11]=x):x=a[11],x}function ss(e){const a=s.c(18),{currency:n,className:i}=e,r=void 0===i?"":i;let c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=["home"],a[0]=c):c=a[0];const{t:o}=_(c),l=`currency-row ${r}`;let d;a[1]!==n?(d=t.jsx(Y,{className:"currency-row__flag",currency:n}),a[1]=n,a[2]=d):d=a[2];const m=`currency.${n}.name`;let h,u;a[3]!==o||a[4]!==m?(h=o(m),a[3]=o,a[4]=m,a[5]=h):h=a[5],a[6]!==h?(u=t.jsx("p",{className:"currency-row__name",children:h}),a[6]=h,a[7]=u):u=a[7];const x=`currency.${n}.symbol`;let j,f,b;return a[8]!==o||a[9]!==x?(j=o(x),a[8]=o,a[9]=x,a[10]=j):j=a[10],a[11]!==j?(f=t.jsx("b",{className:"currency-row__symbol",children:j}),a[11]=j,a[12]=f):f=a[12],a[13]!==f||a[14]!==l||a[15]!==d||a[16]!==u?(b=t.jsxs(K,{className:l,children:[d,u,f]}),a[13]=f,a[14]=l,a[15]=d,a[16]=u,a[17]=b):b=a[17],b}function ts(e){const a=s.c(30),{transport:n,className:i}=e,r=void 0===i?"":i;let c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=["home"],a[0]=c):c=a[0];const{t:o,currLanguage:l}=_(c),d=`transport-row ${r} row--wrap`;let m;a[1]!==n.sCity.country.id?(m=t.jsx(G,{countryId:n.sCity.country.id}),a[1]=n.sCity.country.id,a[2]=m):m=a[2];const h=`cities.${n.sCity.name}`;let u,x,j,f;a[3]!==o||a[4]!==h?(u=o(h),a[3]=o,a[4]=h,a[5]=u):u=a[5],a[6]!==m||a[7]!==u?(x=t.jsxs("h2",{className:"transport-row__cities__city",children:[m,u]}),a[6]=m,a[7]=u,a[8]=x):x=a[8],a[9]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(O,{className:"transport-row__icon"}),a[9]=j):j=a[9],a[10]!==n.eCity.country.id?(f=t.jsx(G,{countryId:n.eCity.country.id}),a[10]=n.eCity.country.id,a[11]=f):f=a[11];const b=`cities.${n.eCity.name}`;let N,y,p,w,g,C;return a[12]!==o||a[13]!==b?(N=o(b),a[12]=o,a[13]=b,a[14]=N):N=a[14],a[15]!==N||a[16]!==f?(y=t.jsxs("h2",{className:"transport-row__cities__city",children:[f,N]}),a[15]=N,a[16]=f,a[17]=y):y=a[17],a[18]!==y||a[19]!==x?(p=t.jsxs("div",{className:"transport-row__cities",children:[x,j,y]}),a[18]=y,a[19]=x,a[20]=p):p=a[20],a[21]!==l||a[22]!==n.distanceInKm?(w=Z(n.distanceInKm,l),a[21]=l,a[22]=n.distanceInKm,a[23]=w):w=a[23],a[24]!==w?(g=t.jsxs("b",{className:"transport-row__distance",children:[w," km"]}),a[24]=w,a[25]=g):g=a[25],a[26]!==p||a[27]!==g||a[28]!==d?(C=t.jsxs(K,{className:d,children:[p,g]}),a[26]=p,a[27]=g,a[28]=d,a[29]=C):C=a[29],C}function es(s,t,e){const a=function(s,t,e){const a=new Intl.DateTimeFormat(s,{timeZone:t,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(e),n={};for(const i of a)"literal"!==i.type&&(n[i.type]=i.value);return{year:Number(n.year),month:Number(n.month),day:Number(n.day),hour:Number(n.hour),minute:Number(n.minute),second:Number(n.second)}}(s,t,e),n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second);return Math.round((n-e.getTime())/6e4)}function as(s){return new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),12,0,0))}function ns(s,t,e){return es(s,t.timeZone,as(e))}function is(s){const t=s>=0?"+":"-",e=Math.abs(s);return`${t}${String(Math.floor(e/60)).padStart(2,"0")}:${String(e%60).padStart(2,"0")}`}function rs(s,t,e,a){const{start:n,end:i}=function(s,t){return s.getTime()<=t.getTime()?{start:s,end:t}:{start:t,end:s}}(e,a),r=ns(s,t,n),c=ns(s,t,i),o=as(n),l=as(i),_=Math.floor((l.getTime()-o.getTime())/864e5)+1;if(_>5e3){const s=Array.from(new Set([r,c]));return s.sort((s,t)=>s-t),{startOffsetMinutes:r,endOffsetMinutes:c,uniqueOffsetsMinutes:s}}const d=new Set;for(let m=0;m<_;m++){const e=new Date(n);e.setDate(n.getDate()+m),d.add(ns(s,t,e))}return{startOffsetMinutes:r,endOffsetMinutes:c,uniqueOffsetsMinutes:Array.from(d).sort((s,t)=>s-t)}}function cs(e){const a=s.c(36),{sCity:n,eCity:i,sDate:r,eDate:c,className:o}=e,l=void 0===o?"":o;let d;a[0]===Symbol.for("react.memo_cache_sentinel")?(d=["home"],a[0]=d):d=a[0];const{t:m,currLanguage:h}=_(d);let u;a[1]!==i.travels?.[0]?.sDate||a[2]!==r?(u=r??i.travels?.[0]?.sDate??new Date,a[1]=i.travels?.[0]?.sDate,a[2]=r,a[3]=u):u=a[3];const x=u,j=c??i.travels?.[0]?.eDate??x,f=`timezone-row ${l} row--wrap`;let b,N,y,p,w,g,C,v,T,M,$;return a[4]!==n.country.id?(b=t.jsx(G,{countryId:n.country.id}),a[4]=n.country.id,a[5]=b):b=a[5],a[6]!==n||a[7]!==m?(N=n.getName(m),a[6]=n,a[7]=m,a[8]=N):N=a[8],a[9]!==b||a[10]!==N?(y=t.jsxs("h2",{className:"timezone-row__cities__city",children:[b,N]}),a[9]=b,a[10]=N,a[11]=y):y=a[11],a[12]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(O,{className:"timezone-row__icon"}),a[12]=p):p=a[12],a[13]!==i.country.id?(w=t.jsx(G,{countryId:i.country.id}),a[13]=i.country.id,a[14]=w):w=a[14],a[15]!==i||a[16]!==m?(g=i.getName(m),a[15]=i,a[16]=m,a[17]=g):g=a[17],a[18]!==g||a[19]!==w?(C=t.jsxs("h2",{className:"timezone-row__cities__city",children:[w,g]}),a[18]=g,a[19]=w,a[20]=C):C=a[20],a[21]!==C||a[22]!==y?(v=t.jsxs("div",{className:"timezone-row__cities",children:[y,p,C]}),a[21]=C,a[22]=y,a[23]=v):v=a[23],a[24]!==h||a[25]!==i||a[26]!==j||a[27]!==n||a[28]!==x?(T=function(s,t,e,a,n){const i=rs(s,t,a,n),r=rs(s,e,a,n),c=i.startOffsetMinutes-r.startOffsetMinutes,o=i.endOffsetMinutes-r.endOffsetMinutes;return c===o?is(c):`${is(c)} â†’ ${is(o)}`}(h,i,n,x,j),a[24]=h,a[25]=i,a[26]=j,a[27]=n,a[28]=x,a[29]=T):T=a[29],a[30]!==T?(M=t.jsx("b",{className:"timezone-row__distance",children:T}),a[30]=T,a[31]=M):M=a[31],a[32]!==v||a[33]!==M||a[34]!==f?($=t.jsxs(K,{className:f,children:[v,M]}),a[32]=v,a[33]=M,a[34]=f,a[35]=$):$=a[35],$}const os="en-US";function ls({className:s="",isVisible:l=!1}){const{t:u,currLanguage:x}=_(["home"]),{EARTH_CIRCUMFERENCE:C,MOON_DISTANCE:v,TOTAL_COUNTRIES:T,TOTAL_UNESCO_SITES:M,TOTAL_CONTINENTS:$}=H,{visitedCountriesCount:D,furthestCity:S,nearestCity:O,maxFlight:G,minFlight:Y,totalMileage:es,totalMileageAroundEarth:as,totalMileageToMoon:is,visitedContinents:rs,allContinents:ls,continentCities:_s,cityBiggestTimezoneJump:ds,numberTimezonesJumped:ms,totalMediaTaken:hs,usedCurrencies:us,numUnescoSites:xs,maxFerry:js,minFerry:fs}=o.useMemo(()=>{const s=y.length,{furthest:t,nearest:o}=j(p,B.birthCity),{max:l,min:_}=f(w),{max:d,min:m}=f(g),h=b(w,g),u=(Number(h)/C).toFixed(2),x=(Number(h)/v).toFixed(2),T=e(p,n(s=>s.country.continent),a());const M=Object.values(N).filter(s=>"string"==typeof s),$=M.map(s=>function(s,t,e){const a=t.filter(t=>t.country.continent===s).length,n=e.filter(t=>t.continent===s).length;return{continent:s,countries:n,cities:a}}(s,p,y)).sort((s,t)=>t.countries-s.countries),D=function(s){const t=B.birthCity;return e(s,i(s=>{const e=s.travels?.[0]?.sDate??new Date,a=ns(os,s,e),n=ns(os,t,e);return-Math.abs(a-n)},s=>-(s.population??0)))}(p),S=function(s){const t=B.birthCity;return e(c(s,s=>{const e=s.travels?.[0]?.sDate??new Date;return ns(os,s,e)!==ns(os,t,e)}),r(s=>{const t=s.travels?.[0]?.sDate??new Date;return ns(os,s,t)})).length}(p);return{visitedCountriesCount:s,furthestCity:t,nearestCity:o,maxFlight:l,minFlight:_,maxFerry:d,minFerry:m,totalMileage:h,totalMileageAroundEarth:u,totalMileageToMoon:x,visitedContinents:T,allContinents:M,continentCities:$,cityBiggestTimezoneJump:D,numberTimezonesJumped:S,totalMediaTaken:V(p),usedCurrencies:a(y.map(s=>s.currency)),numUnescoSites:Object.values(B.stats.unescoSites).reduce((s,t)=>s+t.length,0)}},[C,v]);return t.jsxs("div",{className:`info-tab-stats ${s} ${l?"info-tab-stats--visible":""}`,children:[t.jsx("div",{className:"info-tab-stats__header",children:t.jsx("h1",{children:u("stats.title")})}),t.jsxs("div",{className:"info-tab-stats__content",id:"info-tab",children:[t.jsxs(K,{className:"info-tab-stats__cards row--wrap",children:[t.jsxs(q,{className:"info-tab-stats__card__continents card--box-shadow",children:[t.jsx(F,{className:"info-tab-stats__card__continents__icon"}),t.jsx("p",{children:u("stats.continents")}),t.jsxs("span",{children:[t.jsx("b",{children:rs.length}),t.jsx("p",{children:`  / ${$}`})]})]}),t.jsxs(q,{className:"info-tab-stats__card__countries card--box-shadow",children:[t.jsx(I,{className:"info-tab-stats__card__countries__icon"}),t.jsx("p",{children:u("stats.countries")}),t.jsxs("span",{children:[t.jsx("b",{children:D}),t.jsx("p",{children:`  / ${T}`})]})]}),t.jsxs(q,{className:"info-tab-stats__card__cities card--box-shadow",children:[t.jsx(A,{className:"info-tab-stats__card__cities__icon"}),t.jsx("p",{children:u("stats.cities")}),t.jsx("b",{children:p.length})]})]}),t.jsxs(q,{className:"info-tab-stats__card info-tab-stats__card--mileage card--box-shadow",children:[t.jsxs(W,{className:"info-tab-stats__card__main",children:[t.jsx("h2",{children:u("stats.mileage")}),t.jsxs(W,{className:"info-tab-stats__card__main__total-mileage",children:[t.jsx("p",{children:u("stats.totalMileage")}),t.jsx("b",{children:`${Z(es,x)} km`})]}),t.jsxs(K,{className:"info-tab-stats__card__main__mileage-planets",children:[t.jsxs(W,{className:"info-tab-stats__card__main__mileage-planets--earth",children:[t.jsx(E,{className:"info-tab-stats__card__main__mileage-planets__earth-icon"}),t.jsxs("b",{children:[as,"x"]}),t.jsx("p",{children:u("stats.aroundEarth")})]}),t.jsxs(W,{className:"info-tab-stats__card__main__mileage-planets--moon",children:[t.jsx(z,{className:"info-tab-stats__card__main__mileage-planets__moon-icon"}),t.jsxs("b",{children:[is,"x"]}),t.jsx("p",{children:u("stats.toMoon")})]})]})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.furthestCity")}),t.jsx(Q,{eCity:S})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.nearestCity")}),t.jsx(Q,{eCity:O})]})]}),t.jsxs(K,{className:"info-tab-stats__cards row--wrap",children:[t.jsxs(q,{className:"info-tab-stats__card__flights card--box-shadow",children:[t.jsx(R,{className:"info-tab-stats__card__flights__icon"}),t.jsx("p",{children:u("stats.flights")}),t.jsx("b",{children:w.length})]}),t.jsxs(q,{className:"info-tab-stats__card__ferries card--box-shadow",children:[t.jsx(U,{className:"info-tab-stats__card__ferries__icon"}),t.jsx("p",{children:u("stats.ferries")}),t.jsx("b",{children:g.length})]}),t.jsxs(q,{className:"info-tab-stats__card__timezone-jumped card--box-shadow",children:[t.jsx(L,{className:"info-tab-stats__card__timezone-jumped__icon"}),t.jsx("p",{children:u("stats.timezoneJumped")}),t.jsx("b",{children:ms})]})]}),t.jsxs(q,{className:"info-tab-stats__card info-tab-stats__card--flights card--box-shadow",children:[t.jsxs(W,{className:"info-tab-stats__card__main",children:[t.jsx("h2",{children:u("stats.transport")}),t.jsx(d,{takenFerries:g,takenFlights:w})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.longestFlight")}),t.jsx(ts,{transport:G})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.shortestFlight")}),t.jsx(ts,{transport:Y})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.longestFerry")}),t.jsx(ts,{transport:js})]}),t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.shortestFerry")}),t.jsx(ts,{transport:fs})]}),ds?t.jsxs(W,{className:"info-tab-stats__card__row",children:[t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.biggestTimezoneJump")}),t.jsx(cs,{eCity:ds,eDate:ds.travels?.[0]?.eDate,sCity:B.birthCity,sDate:ds.travels?.[0]?.sDate})]}):null]}),t.jsxs(K,{className:"info-tab-stats__cards row--wrap",children:[t.jsxs(q,{className:"info-tab-stats__card__unesco card--box-shadow",children:[t.jsx(k,{className:"info-tab-stats__card__unesco__icon"}),t.jsx("p",{children:u("stats.unesco")}),t.jsxs("span",{children:[t.jsx("b",{children:xs}),t.jsx("p",{children:`/ ${M}`})]})]}),t.jsxs(q,{className:"info-tab-stats__card__media card--box-shadow",children:[t.jsx(J,{className:"info-tab-stats__card__media__icon"}),t.jsx("p",{children:u("stats.media")}),t.jsx("b",{children:hs.toLocaleString(x)})]})]}),t.jsx(q,{className:"info-tab-stats__card info-tab-stats__card--population card--box-shadow",children:t.jsxs(W,{className:"info-tab-stats__card__main",children:[t.jsx("h2",{className:"cities__title",children:u("stats.population")}),t.jsx("p",{className:"info-tab-stats__card__row__title",children:u("stats.populationTop10")}),t.jsx(m,{data:p})]})}),t.jsx(q,{className:"info-tab-stats__card info-tab-stats__card--currency card--box-shadow",children:t.jsxs(W,{className:"info-tab-stats__card__main",children:[t.jsx("h2",{className:"cities__title",children:u("stats.currency")}),t.jsx(K,{className:"info-tab-stats__card__currencies row--wrap",children:us.map(s=>t.jsx(ss,{currency:s},s))})]})}),t.jsxs(q,{className:"info-tab-stats__card info-tab-stats__card--continents card--box-shadow",children:[t.jsxs(W,{className:"info-tab-stats__card__main",children:[t.jsx("h2",{className:"continents__title",children:u("stats.coverage")}),t.jsx(P,{className:`continents__icon\n            ${rs.includes(N.AFRICA)?"":"africa--not-visited"}\n            ${rs.includes(N.ASIA)?"":"asia--not-visited"}\n            ${rs.includes(N.EUROPE)?"":"europe--not-visited"}\n            ${rs.includes(N.NORTH_AMERICA)?"":"north-america--not-visited"}\n            ${rs.includes(N.OCEANIA)?"":"oceania--not-visited"}\n            ${rs.includes(N.SOUTH_AMERICA)?"":"south-america--not-visited"}\n            `}),t.jsx(K,{className:"row--wrap row--center continents__wrap",children:ls.map(s=>t.jsx(X,{continent:s,isVisited:rs.includes(s)},s))})]}),t.jsx(W,{className:"info-tab-stats__card__row",children:t.jsx(h,{data:_s})})]})]})]})}export{ls as InfoTabStats};
