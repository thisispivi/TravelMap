import{d as D,j as s,w as ue,r as F,x as ae}from"./vendor-Cgh5DUS5.js";import{u as X,m as Q,B as de,L as he,H as ve}from"./index-BQN0gW4U.js";import{x as be,r as pe,y as xe}from"./icons-BJJu2562.js";import{C as fe}from"./CountryFlag-DRmXWQff.js";import{C as Ce}from"./map-DtMc3GUw.js";import{p as ge,c as re}from"./parameters-Dz8axvME.js";import{f as ye}from"./date-C3Royx10.js";import{a as je}from"./router-DFS-ASVR.js";import{a as Ne}from"./cities-B95_zI4c.js";function $e(v){const e=D.c(3),{onClick:l,isVisible:t,className:o}=v,r=`backdrop  ${(t===void 0?!0:t)?"backdrop--visible":""} ${o===void 0?"":o}
      `;let a;return e[0]!==l||e[1]!==r?(a=s.jsx("div",{className:r,onClick:l}),e[0]=l,e[1]=r,e[2]=a):a=e[2],a}function Se(v){const e=D.c(14),{isAutoPosition:l,setIsAutoPosition:t,responsive:o}=v;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=["home"],e[0]=m):m=e[0];const{t:n}=X(m);if(Q()||o.window.width<=460)return null;let r;e[1]!==n?(r=n("autoPositionTooltip"),e[1]=n,e[2]=r):r=e[2];const a=`info-tab-cities__position-button ${l?"info-tab-cities__position-button--auto-position":""}`;let i;e[3]!==l||e[4]!==t?(i=()=>t(!l),e[3]=l,e[4]=t,e[5]=i):i=e[5];let c;e[6]!==n?(c=n("autoPositionTooltip"),e[6]=n,e[7]=c):c=e[7];let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(be,{}),e[8]=N):N=e[8];let d;return e[9]!==r||e[10]!==a||e[11]!==i||e[12]!==c?(d=s.jsx(de,{ariaLabel:r,className:a,onClick:i,tooltipContent:c,tooltipId:"base-tooltip",children:N}),e[9]=r,e[10]=a,e[11]=i,e[12]=c,e[13]=d):d=e[13],d}function Ie(v){const e=D.c(2),{isChecked:l}=v,t=l?"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z":"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM19 19H5V5H19V19Z";let o;return e[0]!==t?(o=s.jsx("svg",{fill:"none",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:t,fill:"currentColor"})}),e[0]=t,e[1]=o):o=e[1],o}function ke(v){const e=D.c(49),{className:l,city:t,travel:o,travelIdx:m,isClickable:n,setHoveredCity:r,setMapPosition:a,isAutoPosition:i,isHidden:c}=v,N=l===void 0?"":l,d=m===void 0?0:m,_=n===void 0?!1:n,S=i===void 0?!1:i,f=c===void 0?!1:c;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const H=X(h).currLanguage,Y=je();let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=["home"],e[1]=L):L=e[1];const{t:E}=X(L);let u;e[2]!==t||e[3]!==S||e[4]!==r||e[5]!==a?(u=()=>{Q()||(a&&t.mapCoordinates&&S&&a({center:t.mapCoordinates,zoom:ge.map.hoveredCityZoom}),r&&r(t))},e[2]=t,e[3]=S,e[4]=r,e[5]=a,e[6]=u):u=e[6];const A=u;let P;e[7]!==r?(P=()=>{Q()||r&&r(null)},e[7]=r,e[8]=P):P=e[8];const R=P,I=`city-card ${_?"city-card--clickable":"city-card--not-clickable"} 
      ${Q()?"city-card--mobile":"city-card--desktop"}
      ${f?"city-card--hidden":"city-card--visible"}
      `;let j;e[9]!==t.name||e[10]!==_||e[11]!==Y||e[12]!==d?(j=_?()=>Y(`/gallery/${t.name}/${d}`):void 0,e[9]=t.name,e[10]=_,e[11]=Y,e[12]=d,e[13]=j):j=e[13];const b=`city-card__top ${N} ${t.name} ${t.name}-${d}`;let B;e[14]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("div",{className:"city-card__background-overlay"}),e[14]=B):B=e[14];let x;e[15]!==t||e[16]!==E?(x=t.getName(E),e[15]=t,e[16]=E,e[17]=x):x=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"centered",children:s.jsx(he,{})}),e[18]=k):k=e[18];let C;e[19]!==t||e[20]!==d?(C=t.getBackgroundImgSourceByIndex(d)||void 0,e[19]=t,e[20]=d,e[21]=C):C=e[21];let w;e[22]!==x||e[23]!==C?(w=s.jsxs("div",{className:"city-card__background",children:[B,s.jsx(ue.LazyLoadImage,{alt:x,className:"city-card__background-img",effect:"opacity",placeholder:k,src:C})]}),e[22]=x,e[23]=C,e[24]=w):w=e[24];let g;e[25]!==b||e[26]!==w?(g=s.jsx("div",{className:b,children:w}),e[25]=b,e[26]=w,e[27]=g):g=e[27];let $;e[28]!==t.country.id?($=s.jsx(fe,{className:"city-card__country",countryId:t.country.id}),e[28]=t.country.id,e[29]=$):$=e[29];let y;e[30]!==t||e[31]!==E?(y=t.getName(E),e[30]=t,e[31]=E,e[32]=y):y=e[32];let p;e[33]!==y?(p=s.jsx("div",{className:"city-card__title",children:s.jsx("h2",{children:y})}),e[33]=y,e[34]=p):p=e[34];let O;e[35]!==H||e[36]!==o?(O=o?.sDate?s.jsxs("div",{className:"travel-card__info",children:[s.jsx(pe,{className:"travel-card__icon"}),s.jsx("p",{children:ye({sDateInput:o.sDate,eDateInput:o.eDate,locale:H,includeWeekday:!0,showYear:!1})})]}):null,e[35]=H,e[36]=o,e[37]=O):O=e[37];let V;e[38]!==$||e[39]!==p||e[40]!==O?(V=s.jsxs("div",{className:"city-card__content",children:[$,p,O]}),e[38]=$,e[39]=p,e[40]=O,e[41]=V):V=e[41];let M;return e[42]!==A||e[43]!==R||e[44]!==I||e[45]!==j||e[46]!==g||e[47]!==V?(M=s.jsxs("div",{className:I,onClick:j,onMouseEnter:A,onMouseLeave:R,children:[g,V]}),e[42]=A,e[43]=R,e[44]=I,e[45]=j,e[46]=g,e[47]=V,e[48]=M):M=e[48],M}function we(v){const e=D.c(55),{options:l,selected:t,onChange:o,buttonIcon:m,className:n}=v,r=n===void 0?"":n;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["home"],e[0]=a):a=e[0];const{t:i}=X(a),[c,N]=F.useState(!1);let d;e[1]!==c?(d=()=>N(!c),e[1]=c,e[2]=d):d=e[2];const _=d,S=F.useRef(null),f=t.length===l.length;let h;e[3]!==f||e[4]!==o||e[5]!==l?(h=()=>{o(f?[]:l)},e[3]=f,e[4]=o,e[5]=l,e[6]=h):h=e[6];const H=h;let Y;e[7]!==o||e[8]!==t?(Y=y=>{const p=t.includes(y)?t.filter(O=>O!==y):[...t,y];o(p)},e[7]=o,e[8]=t,e[9]=Y):Y=e[9];const L=Y,E=Le;let u;e[10]!==c||e[11]!==_?(u=c?s.jsx($e,{className:"filter-backdrop",isVisible:!1,onClick:_}):null,e[10]=c,e[11]=_,e[12]=u):u=e[12];let A;e[13]!==i?(A=i("filterTooltip"),e[13]=i,e[14]=A):A=e[14];const P=`filter__button ${r} ${c?"filter__button--open":""}`;let R;e[15]!==i?(R=i("filterTooltip"),e[15]=i,e[16]=R):R=e[16];let I;e[17]!==m||e[18]!==_||e[19]!==A||e[20]!==P||e[21]!==R?(I=s.jsx(de,{ariaLabel:A,className:P,onClick:_,tooltipContent:R,tooltipId:"base-tooltip",children:m}),e[17]=m,e[18]=_,e[19]=A,e[20]=P,e[21]=R,e[22]=I):I=e[22];let j;e[23]!==f?(j=s.jsx("div",{className:"filter__option--select-all__icon",children:s.jsx(Ie,{isChecked:f})}),e[23]=f,e[24]=j):j=e[24];let b;e[25]!==f||e[26]!==i?(b=i(f?"deselectAll":"selectAll"),e[25]=f,e[26]=i,e[27]=b):b=e[27];let B;e[28]!==b?(B=s.jsx("h4",{className:"filter__option--select-all__text",children:b}),e[28]=b,e[29]=B):B=e[29];let x;e[30]!==H||e[31]!==j||e[32]!==B?(x=s.jsxs("div",{className:`${E()} filter__option--select-all`,onClick:H,children:[j,B]}),e[30]=H,e[31]=j,e[32]=B,e[33]=x):x=e[33];let k;if(e[34]!==L||e[35]!==l||e[36]!==t||e[37]!==i){let y;e[39]!==L||e[40]!==t||e[41]!==i?(y=p=>s.jsxs("div",{className:E(t.includes(p)),onClick:()=>L(p),children:[s.jsx(fe,{countryId:p.id}),s.jsx("h4",{children:i(`countries.${p.id.replace(" ","")}`)})]},p.id),e[39]=L,e[40]=t,e[41]=i,e[42]=y):y=e[42],k=l.map(y),e[34]=L,e[35]=l,e[36]=t,e[37]=i,e[38]=k}else k=e[38];let C;e[43]!==x||e[44]!==k?(C=s.jsx("div",{className:"filter__options",ref:S,children:s.jsxs("div",{className:"filter__options__list",id:"info-tab",children:[x,k]})}),e[43]=x,e[44]=k,e[45]=C):C=e[45];let w;e[46]!==c||e[47]!==C?(w=s.jsx(Ce,{classNames:"filter-transition",in:c,nodeRef:S,timeout:200,unmountOnExit:!0,children:C}),e[46]=c,e[47]=C,e[48]=w):w=e[48];let g;e[49]!==I||e[50]!==w?(g=s.jsxs("div",{className:"filter",children:[I,w]}),e[49]=I,e[50]=w,e[51]=g):g=e[51];let $;return e[52]!==g||e[53]!==u?($=s.jsxs(s.Fragment,{children:[u,g]}),e[52]=g,e[53]=u,e[54]=$):$=e[54],$}function Le(v){const e=v===void 0?!1:v,l=Q()?"filter__option--mobile":"";return`filter__option ${e?"filter__option--selected":""} ${l}`.trim()}function De(v){const e=D.c(56),{allCountries:l,cities:t,className:o,getTravelIdx:m,id:n,isVisible:r,isGroupedByYear:a}=v,i=o===void 0?"":o,c=r===void 0?!1:r,N=a===void 0?!1:a;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["home"],e[0]=d):d=e[0];const{t:_}=X(d),{setHoveredCity:S,setMapPosition:f,isAutoPosition:h,setIsAutoPosition:H,responsive:Y,mapPosition:L}=F.useContext(ve),E=l,[u,A]=F.useState(E);let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P=T=>A(T),e[1]=P):P=e[1];const R=P;let I;e[2]!==u?(I=[...u].sort(Ee),e[2]=u,e[3]=I):I=e[3];const j=I,[b,B]=F.useState(re.GROUP_BY_CITIES_DEFAULT_OPENED_YEAR);let x;e[4]!==b?(x=T=>b!==T?B(T):void 0,e[4]=b,e[5]=x):x=e[5];const k=x,[C,w]=F.useState(!1),g=F.useRef(null);let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($=()=>{if(g.current){const T=g.current;w(T.scrollHeight>T.clientHeight)}},e[6]=$):$=e[6];const y=$;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{y();const T=()=>y();return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},e[7]=p):p=e[7];let O;e[8]!==t||e[9]!==u||e[10]!==c||e[11]!==b?(O=[t,u,b,c],e[8]=t,e[9]=u,e[10]=c,e[11]=b,e[12]=O):O=e[12],F.useEffect(p,O);let V;e[13]!==t?(V=Ne(t,{cutoffYear:re.GROUP_BY_CITIES_CUTOFF_YEAR}),e[13]=t,e[14]=V):V=e[14];const M=V;if(!c)return null;let ee;e[15]!==u||e[16]!==m||e[17]!==n||e[18]!==h||e[19]!==L||e[20]!==S||e[21]!==f?(ee=T=>s.jsxs(s.Fragment,{children:[T.map(z=>{const K=z.travels[0],me=!u.includes(z.country),_e=!!K?.photos?.length;return s.jsx(ke,{city:z,isAutoPosition:h,isClickable:_e,isHidden:me,mapPosition:L,setHoveredCity:S,setMapPosition:f,travel:K,travelIdx:K?m?.(z,K):void 0},z.name)}),T.reduce((z,K)=>z+(u.includes(K.country)?1:0),0)%2!==0?s.jsx("div",{className:`info-tab-cities__void-city info-tab-${n}__void-city city-card city-card--no-box-shadow`}):null]}),e[15]=u,e[16]=m,e[17]=n,e[18]=h,e[19]=L,e[20]=S,e[21]=f,e[22]=ee):ee=e[22];const te=ee;let se;e[23]!==t||e[24]!==M||e[25]!==C||e[26]!==n||e[27]!==N||e[28]!==te||e[29]!==b||e[30]!==k?(se=N?s.jsx(He,{contentRef:g,groups:M,hasOverflow:C,id:n,renderCityCards:te,selectedYear:b,toggleYear:k}):s.jsx(Pe,{cities:t,contentRef:g,hasOverflow:C,id:n,renderCityCards:te}),e[23]=t,e[24]=M,e[25]=C,e[26]=n,e[27]=N,e[28]=te,e[29]=b,e[30]=k,e[31]=se):se=e[31];const le=se,oe=`info-tab-cities info-tab-${n} ${i} 
    ${c?"info-tab-cities--visible":""}
    `,ne=`info-tab-cities__header info-tab-${n}__header`,ce=n+".title";let Z;e[32]!==_||e[33]!==ce?(Z=_(ce),e[32]=_,e[33]=ce,e[34]=Z):Z=e[34];let U;e[35]!==Z?(U=s.jsx("h1",{children:Z}),e[35]=Z,e[36]=U):U=e[36];let G;e[37]!==h||e[38]!==Y||e[39]!==H?(G=s.jsx(Se,{isAutoPosition:h,responsive:Y,setIsAutoPosition:H}),e[37]=h,e[38]=Y,e[39]=H,e[40]=G):G=e[40];let W;e[41]!==E||e[42]!==n||e[43]!==j?(W=n==="visited"?s.jsx(we,{buttonIcon:s.jsx(xe,{className:"filter__icon"}),onChange:R,options:E,selected:j}):null,e[41]=E,e[42]=n,e[43]=j,e[44]=W):W=e[44];let q;e[45]!==G||e[46]!==W?(q=s.jsxs("div",{className:"info-tab-cities__header__buttons",children:[G,W]}),e[45]=G,e[46]=W,e[47]=q):q=e[47];let J;e[48]!==ne||e[49]!==U||e[50]!==q?(J=s.jsxs("div",{className:ne,children:[U,q]}),e[48]=ne,e[49]=U,e[50]=q,e[51]=J):J=e[51];let ie;return e[52]!==le||e[53]!==oe||e[54]!==J?(ie=s.jsxs("div",{className:oe,children:[J,le]}),e[52]=le,e[53]=oe,e[54]=J,e[55]=ie):ie=e[55],ie}function Ee(v,e){return v.id.localeCompare(e.id)}function He(v){const e=D.c(21),{groups:l,selectedYear:t,toggleYear:o,renderCityCards:m,id:n,hasOverflow:r,contentRef:a}=v;let i;if(e[0]!==l||e[1]!==t||e[2]!==o){let f;e[4]!==t||e[5]!==o?(f=(h,H)=>s.jsx("button",{className:`info-tab-cities__year__button ${t===parseInt(h)?"info-tab-cities__year__button--active":""}`,onClick:()=>o(parseInt(h)),type:"button",children:`${H===0?"â‰¤ ":""}${h}`},h),e[4]=t,e[5]=o,e[6]=f):f=e[6],i=ae(l).map(f),e[0]=l,e[1]=t,e[2]=o,e[3]=i}else i=e[3];let c;e[7]!==i?(c=s.jsx("div",{className:"info-tab-cities__header info-tab-cities__year__selector",children:i}),e[7]=i,e[8]=c):c=e[8];const N=`info-tab-cities__content--grouped ${r?"info-tab-cities__content--overflow":""}`;let d;e[9]!==l||e[10]!==n||e[11]!==m||e[12]!==t?(d=ae(l).map(f=>s.jsx("div",{className:"info-tab-cities__year-group",children:t===parseInt(f)?s.jsx("div",{className:`info-tab-cities__content info-tab-${n}__content`,children:m(l[f])}):null},f)),e[9]=l,e[10]=n,e[11]=m,e[12]=t,e[13]=d):d=e[13];let _;e[14]!==a||e[15]!==N||e[16]!==d?(_=s.jsx("div",{className:N,id:"info-tab",ref:a,children:d}),e[14]=a,e[15]=N,e[16]=d,e[17]=_):_=e[17];let S;return e[18]!==c||e[19]!==_?(S=s.jsxs(s.Fragment,{children:[c,_]}),e[18]=c,e[19]=_,e[20]=S):S=e[20],S}function Pe(v){const e=D.c(7),{id:l,renderCityCards:t,cities:o,hasOverflow:m,contentRef:n}=v,r=`info-tab-cities__content info-tab-cities__content--single info-tab-${l}__content ${m?"info-tab-cities__content--overflow":""}`;let a;e[0]!==o||e[1]!==t?(a=t(o),e[0]=o,e[1]=t,e[2]=a):a=e[2];let i;return e[3]!==n||e[4]!==r||e[5]!==a?(i=s.jsx("div",{className:r,id:"info-tab",ref:n,children:a}),e[3]=n,e[4]=r,e[5]=a,e[6]=i):i=e[6],i}export{De as I};
