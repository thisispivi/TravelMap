import{d as S,j as l}from"./vendor-BcpBRJU8.js";import{u as R}from"./index-D3cgpIy3.js";import{R as I}from"./gallery-CVePIdsH.js";import{p as H,q as k,r as P,s as F}from"./icons-iLYM2YVW.js";import{C as L}from"./CountryFlag-COhmRgvj.js";import"./map-QFWzaBwh.js";import"./data-80xIROWi.js";import{f as E}from"./date-D4Y-61B3.js";import{a as T,e as O,b as q,O as A}from"./router-JuuIkx1m.js";import"./parameters-nmkvrbLz.js";function B(e){const t=S.c(3),{onClick:f,className:s}=e,o=`close-button ${s===void 0?"":s}`;let h;return t[0]!==f||t[1]!==o?(h=l.jsx(H,{className:o,onClick:f}),t[0]=f,t[1]=o,t[2]=h):h=t[2],h}function G(e){const t=S.c(29),{travels:f,selectedTravelIdx:s,cityName:a}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0];const{currLanguage:h}=R(o),u=T(),x=f[s];let r;t[1]!==f?(r=f.filter(M),t[1]=f,t[2]=r):r=t[2];const p=r,j=`travel-selector__chevron-icon travel-selector__chevron-icon--left
        ${s>0?"":"travel-selector__chevron-icon--disabled"}`;let n;t[3]!==a||t[4]!==u||t[5]!==s?(n=()=>s>0&&u(`/gallery/${a}/${s-1}`),t[3]=a,t[4]=u,t[5]=s,t[6]=n):n=t[6];let c;t[7]!==j||t[8]!==n?(c=l.jsx(k,{className:j,onClick:n}),t[7]=j,t[8]=n,t[9]=c):c=t[9];let v;t[10]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(P,{className:"travel-selector__icon"}),t[10]=v):v=t[10];let i;t[11]!==h||t[12]!==x.eDate||t[13]!==x.sDate?(i=E({sDateInput:x.sDate,eDateInput:x.eDate,locale:h,includeWeekday:!0,showYear:!0}),t[11]=h,t[12]=x.eDate,t[13]=x.sDate,t[14]=i):i=t[14];let m;t[15]!==i?(m=l.jsxs("div",{className:"travel-selector__info",children:[v,l.jsx("p",{className:"travel-selector__date",children:i})]}),t[15]=i,t[16]=m):m=t[16];const y=`travel-selector__chevron-icon
        ${s<p.length-1?"":"travel-selector__chevron-icon--disabled"}`;let d;t[17]!==a||t[18]!==p.length||t[19]!==u||t[20]!==s?(d=()=>s<p.length-1&&u(`/gallery/${a}/${s+1}`),t[17]=a,t[18]=p.length,t[19]=u,t[20]=s,t[21]=d):d=t[21];let _;t[22]!==d||t[23]!==y?(_=l.jsx(k,{className:y,onClick:d}),t[22]=d,t[23]=y,t[24]=_):_=t[24];let g;return t[25]!==_||t[26]!==c||t[27]!==m?(g=l.jsxs("div",{className:"travel-selector",children:[c,m,_]}),t[25]=_,t[26]=c,t[27]=m,t[28]=g):g=t[28],g}function M(e){return!e.isFuture}function te(){const e=S.c(40);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["home"],e[0]=t):t=e[0];const{t:f}=R(t),s=T(),{city:a,travelIdx:o}=O(),[h]=q();let u;e[1]!==h?(u=h.get("from"),e[1]=h,e[2]=u):u=e[2];const x=u,r=a.travels[o];let p;e[3]!==r.photos?(p=r.photos.map(W),e[3]=r.photos,e[4]=p):p=e[4];const j=p;let n;e[5]!==a||e[6]!==f?(n=a.getName(f),e[5]=a,e[6]=f,e[7]=n):n=e[7];let c;e[8]!==n?(c=l.jsx("h2",{children:n}),e[8]=n,e[9]=c):c=e[9];let v;e[10]!==a.country.id?(v=l.jsx(L,{className:"gallery__header__flag",countryId:a.country.id}),e[10]=a.country.id,e[11]=v):v=e[11];let i;e[12]!==a.name||e[13]!==a.travels||e[14]!==o?(i=l.jsx(G,{cityName:a.name,selectedTravelIdx:o,travels:a.travels}),e[12]=a.name,e[13]=a.travels,e[14]=o,e[15]=i):i=e[15];let m;e[16]!==x||e[17]!==s?(m=l.jsx(B,{onClick:()=>s(x==="map"?"/":"/?to=visited")}),e[16]=x,e[17]=s,e[18]=m):m=e[18];let y;e[19]!==c||e[20]!==v||e[21]!==i||e[22]!==m?(y=l.jsxs("div",{className:"gallery__header",children:[c,v,i,m]}),e[19]=c,e[20]=v,e[21]=i,e[22]=m,e[23]=y):y=e[23];let d;e[24]!==s?(d=b=>{const{index:w}=b;return s(`./${w}`)},e[24]=s,e[25]=d):d=e[25];let _;e[26]!==s?(_={image:(b,w)=>{const{photo:D}=w;return l.jsxs("div",{className:"gallery__content__image",children:[l.jsx("img",{...b,className:`${b.className??""}`}),D.youtube?l.jsxs(l.Fragment,{children:[l.jsx(F,{className:"gallery__content__image__play",onClick:()=>s(`./${D.index}`)}),l.jsx("div",{className:"gallery__content__image__gradient",onClick:()=>s(`./${D.index}`)})]}):null]})}},e[26]=s,e[27]=_):_=e[27];let g;e[28]!==j||e[29]!==_||e[30]!==d||e[31]!==r.rowConstraints||e[32]!==r.targetRowHeight?(g=l.jsx("div",{className:"gallery__content__photo-album",id:"gallery",children:l.jsx(I,{onClick:d,photos:j,render:_,rowConstraints:r.rowConstraints,targetRowHeight:r.targetRowHeight})}),e[28]=j,e[29]=_,e[30]=d,e[31]=r.rowConstraints,e[32]=r.targetRowHeight,e[33]=g):g=e[33];let $;e[34]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(A,{}),e[34]=$):$=e[34];let N;e[35]!==g?(N=l.jsxs("div",{className:"gallery__content",children:[g,$]}),e[35]=g,e[36]=N):N=e[36];let C;return e[37]!==N||e[38]!==y?(C=l.jsxs("div",{className:"gallery",children:[y,N]}),e[37]=N,e[38]=y,e[39]=C):C=e[39],C}function W(e,t){return{src:`https://pivi-travel-map.b-cdn.net/TravelMap/Travels${e.thumbnail}`,width:e.width,height:e.height,youtube:e.youtube,index:t}}export{te as default};
