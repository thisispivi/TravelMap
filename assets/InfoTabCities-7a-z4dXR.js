import{d as D,j as s,w as ue,r as F,x as ae}from"./vendor-BcpBRJU8.js";import{u as X,m as Q,B as de,L as he,H as be}from"./index-Br-SUuo0.js";import{x as pe,r as ve,y as xe}from"./icons-iLYM2YVW.js";import{C as fe}from"./CountryFlag-COhmRgvj.js";import{C as Ce}from"./map-QFWzaBwh.js";import{p as ge,c as re}from"./parameters-onOo8tNu.js";import{f as je}from"./date-2_yvC8ij.js";import{a as ye}from"./router-JuuIkx1m.js";import"./data-Ct4VgJ9W.js";import{a as Ne}from"./cities-D7-kUqWz.js";function $e(b){const e=D.c(3),{onClick:l,isVisible:t,className:o}=b,r=`backdrop  ${(t===void 0?!0:t)?"backdrop--visible":""} ${o===void 0?"":o}
      `;let a;return e[0]!==l||e[1]!==r?(a=s.jsx("div",{className:r,onClick:l}),e[0]=l,e[1]=r,e[2]=a):a=e[2],a}function Se(b){const e=D.c(14),{isAutoPosition:l,setIsAutoPosition:t,responsive:o}=b;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=["home"],e[0]=m):m=e[0];const{t:n}=X(m);if(Q()||o.window.width<=460)return null;let r;e[1]!==n?(r=n("autoPositionTooltip"),e[1]=n,e[2]=r):r=e[2];const a=`info-tab-cities__position-button ${l?"info-tab-cities__position-button--auto-position":""}`;let i;e[3]!==l||e[4]!==t?(i=()=>t(!l),e[3]=l,e[4]=t,e[5]=i):i=e[5];let c;e[6]!==n?(c=n("autoPositionTooltip"),e[6]=n,e[7]=c):c=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(pe,{}),e[8]=y):y=e[8];let d;return e[9]!==r||e[10]!==a||e[11]!==i||e[12]!==c?(d=s.jsx(de,{ariaLabel:r,className:a,onClick:i,tooltipContent:c,tooltipId:"base-tooltip",children:y}),e[9]=r,e[10]=a,e[11]=i,e[12]=c,e[13]=d):d=e[13],d}function ke(b){const e=D.c(2),{isChecked:l}=b,t=l?"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z":"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM19 19H5V5H19V19Z";let o;return e[0]!==t?(o=s.jsx("svg",{fill:"none",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:t,fill:"currentColor"})}),e[0]=t,e[1]=o):o=e[1],o}function Ie(b){const e=D.c(46),{className:l,city:t,travel:o,travelIdx:m,isClickable:n,setHoveredCity:r,setMapPosition:a,isAutoPosition:i,isHidden:c}=b,y=l===void 0?"":l,d=m===void 0?0:m,_=n===void 0?!1:n,$=i===void 0?!1:i,f=c===void 0?!1:c;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const H=X(h).currLanguage,A=ye();let L;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=["home"],e[1]=L):L=e[1];const{t:E}=X(L);let u;e[2]!==t||e[3]!==$||e[4]!==r||e[5]!==a?(u=()=>{Q()||(a&&t.mapCoordinates&&$&&a({center:t.mapCoordinates,zoom:ge.map.hoveredCityZoom}),r&&r(t))},e[2]=t,e[3]=$,e[4]=r,e[5]=a,e[6]=u):u=e[6];const R=u;let P;e[7]!==r?(P=()=>{Q()||r&&r(null)},e[7]=r,e[8]=P):P=e[8];const V=P,S=`city-card ${_?"city-card--clickable":"city-card--not-clickable"} 
      ${Q()?"city-card--mobile":"city-card--desktop"}
      ${f?"city-card--hidden":"city-card--visible"}
      `;let j;e[9]!==t.name||e[10]!==_||e[11]!==A||e[12]!==d?(j=_?()=>A(`/gallery/${t.name}/${d}`):void 0,e[9]=t.name,e[10]=_,e[11]=A,e[12]=d,e[13]=j):j=e[13];const p=`city-card__top ${y} ${t.name} ${t.name}-${d}`;let O;e[14]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("div",{className:"city-card__background-overlay"}),e[14]=O):O=e[14];let x;e[15]!==t||e[16]!==E?(x=t.getName(E),e[15]=t,e[16]=E,e[17]=x):x=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"centered",children:s.jsx(he,{})}),e[18]=k):k=e[18];const I=t.backgroundImgsSrc[d];let w;e[19]!==x||e[20]!==I?(w=s.jsxs("div",{className:"city-card__background",children:[O,s.jsx(ue.LazyLoadImage,{alt:x,className:"city-card__background-img",effect:"opacity",placeholder:k,src:I})]}),e[19]=x,e[20]=I,e[21]=w):w=e[21];let C;e[22]!==p||e[23]!==w?(C=s.jsx("div",{className:p,children:w}),e[22]=p,e[23]=w,e[24]=C):C=e[24];let N;e[25]!==t.country.id?(N=s.jsx(fe,{className:"city-card__country",countryId:t.country.id}),e[25]=t.country.id,e[26]=N):N=e[26];let g;e[27]!==t||e[28]!==E?(g=t.getName(E),e[27]=t,e[28]=E,e[29]=g):g=e[29];let v;e[30]!==g?(v=s.jsx("div",{className:"city-card__title",children:s.jsx("h2",{children:g})}),e[30]=g,e[31]=v):v=e[31];let T;e[32]!==H||e[33]!==o?(T=o?.sDate?s.jsxs("div",{className:"travel-card__info",children:[s.jsx(ve,{className:"travel-card__icon"}),s.jsx("p",{children:je({sDateInput:o.sDate,eDateInput:o.eDate,locale:H,includeWeekday:!0,showYear:!1})})]}):null,e[32]=H,e[33]=o,e[34]=T):T=e[34];let B;e[35]!==N||e[36]!==v||e[37]!==T?(B=s.jsxs("div",{className:"city-card__content",children:[N,v,T]}),e[35]=N,e[36]=v,e[37]=T,e[38]=B):B=e[38];let M;return e[39]!==R||e[40]!==V||e[41]!==S||e[42]!==j||e[43]!==C||e[44]!==B?(M=s.jsxs("div",{className:S,onClick:j,onMouseEnter:R,onMouseLeave:V,children:[C,B]}),e[39]=R,e[40]=V,e[41]=S,e[42]=j,e[43]=C,e[44]=B,e[45]=M):M=e[45],M}function we(b){const e=D.c(55),{options:l,selected:t,onChange:o,buttonIcon:m,className:n}=b,r=n===void 0?"":n;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["home"],e[0]=a):a=e[0];const{t:i}=X(a),[c,y]=F.useState(!1);let d;e[1]!==c?(d=()=>y(!c),e[1]=c,e[2]=d):d=e[2];const _=d,$=F.useRef(null),f=t.length===l.length;let h;e[3]!==f||e[4]!==o||e[5]!==l?(h=()=>{o(f?[]:l)},e[3]=f,e[4]=o,e[5]=l,e[6]=h):h=e[6];const H=h;let A;e[7]!==o||e[8]!==t?(A=g=>{const v=t.includes(g)?t.filter(T=>T!==g):[...t,g];o(v)},e[7]=o,e[8]=t,e[9]=A):A=e[9];const L=A,E=Le;let u;e[10]!==c||e[11]!==_?(u=c?s.jsx($e,{className:"filter-backdrop",isVisible:!1,onClick:_}):null,e[10]=c,e[11]=_,e[12]=u):u=e[12];let R;e[13]!==i?(R=i("filterTooltip"),e[13]=i,e[14]=R):R=e[14];const P=`filter__button ${r} ${c?"filter__button--open":""}`;let V;e[15]!==i?(V=i("filterTooltip"),e[15]=i,e[16]=V):V=e[16];let S;e[17]!==m||e[18]!==_||e[19]!==R||e[20]!==P||e[21]!==V?(S=s.jsx(de,{ariaLabel:R,className:P,onClick:_,tooltipContent:V,tooltipId:"base-tooltip",children:m}),e[17]=m,e[18]=_,e[19]=R,e[20]=P,e[21]=V,e[22]=S):S=e[22];let j;e[23]!==f?(j=s.jsx("div",{className:"filter__option--select-all__icon",children:s.jsx(ke,{isChecked:f})}),e[23]=f,e[24]=j):j=e[24];let p;e[25]!==f||e[26]!==i?(p=i(f?"deselectAll":"selectAll"),e[25]=f,e[26]=i,e[27]=p):p=e[27];let O;e[28]!==p?(O=s.jsx("h4",{className:"filter__option--select-all__text",children:p}),e[28]=p,e[29]=O):O=e[29];let x;e[30]!==H||e[31]!==j||e[32]!==O?(x=s.jsxs("div",{className:`${E()} filter__option--select-all`,onClick:H,children:[j,O]}),e[30]=H,e[31]=j,e[32]=O,e[33]=x):x=e[33];let k;if(e[34]!==L||e[35]!==l||e[36]!==t||e[37]!==i){let g;e[39]!==L||e[40]!==t||e[41]!==i?(g=v=>s.jsxs("div",{className:E(t.includes(v)),onClick:()=>L(v),children:[s.jsx(fe,{countryId:v.id}),s.jsx("h4",{children:i(`countries.${v.id.replace(" ","")}`)})]},v.id),e[39]=L,e[40]=t,e[41]=i,e[42]=g):g=e[42],k=l.map(g),e[34]=L,e[35]=l,e[36]=t,e[37]=i,e[38]=k}else k=e[38];let I;e[43]!==x||e[44]!==k?(I=s.jsx("div",{className:"filter__options",ref:$,children:s.jsxs("div",{className:"filter__options__list",id:"info-tab",children:[x,k]})}),e[43]=x,e[44]=k,e[45]=I):I=e[45];let w;e[46]!==c||e[47]!==I?(w=s.jsx(Ce,{classNames:"filter-transition",in:c,nodeRef:$,timeout:200,unmountOnExit:!0,children:I}),e[46]=c,e[47]=I,e[48]=w):w=e[48];let C;e[49]!==S||e[50]!==w?(C=s.jsxs("div",{className:"filter",children:[S,w]}),e[49]=S,e[50]=w,e[51]=C):C=e[51];let N;return e[52]!==C||e[53]!==u?(N=s.jsxs(s.Fragment,{children:[u,C]}),e[52]=C,e[53]=u,e[54]=N):N=e[54],N}function Le(b){const e=b===void 0?!1:b,l=Q()?"filter__option--mobile":"";return`filter__option ${e?"filter__option--selected":""} ${l}`.trim()}function ze(b){const e=D.c(56),{allCountries:l,cities:t,className:o,getTravelIdx:m,id:n,isVisible:r,isGroupedByYear:a}=b,i=o===void 0?"":o,c=r===void 0?!1:r,y=a===void 0?!1:a;let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=["home"],e[0]=d):d=e[0];const{t:_}=X(d),{setHoveredCity:$,setMapPosition:f,isAutoPosition:h,setIsAutoPosition:H,responsive:A,mapPosition:L}=F.useContext(be),E=l,[u,R]=F.useState(E);let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P=Y=>R(Y),e[1]=P):P=e[1];const V=P;let S;e[2]!==u?(S=[...u].sort(Ee),e[2]=u,e[3]=S):S=e[3];const j=S,[p,O]=F.useState(re.GROUP_BY_CITIES_DEFAULT_OPENED_YEAR);let x;e[4]!==p?(x=Y=>p!==Y?O(Y):void 0,e[4]=p,e[5]=x):x=e[5];const k=x,[I,w]=F.useState(!1),C=F.useRef(null);let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{if(C.current){const Y=C.current;w(Y.scrollHeight>Y.clientHeight)}},e[6]=N):N=e[6];const g=N;let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{g();const Y=()=>g();return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},e[7]=v):v=e[7];let T;e[8]!==t||e[9]!==u||e[10]!==c||e[11]!==p?(T=[t,u,p,c],e[8]=t,e[9]=u,e[10]=c,e[11]=p,e[12]=T):T=e[12],F.useEffect(v,T);let B;e[13]!==t?(B=Ne(t,{cutoffYear:re.GROUP_BY_CITIES_CUTOFF_YEAR}),e[13]=t,e[14]=B):B=e[14];const M=B;if(!c)return null;let ee;e[15]!==u||e[16]!==m||e[17]!==n||e[18]!==h||e[19]!==L||e[20]!==$||e[21]!==f?(ee=Y=>s.jsxs(s.Fragment,{children:[Y.map(z=>{const K=z.travels[0],me=!u.includes(z.country),_e=!!K?.photos?.length;return s.jsx(Ie,{city:z,isAutoPosition:h,isClickable:_e,isHidden:me,mapPosition:L,setHoveredCity:$,setMapPosition:f,travel:K,travelIdx:K?m?.(z,K):void 0},z.name)}),Y.reduce((z,K)=>z+(u.includes(K.country)?1:0),0)%2!==0?s.jsx("div",{className:`info-tab-cities__void-city info-tab-${n}__void-city city-card city-card--no-box-shadow`}):null]}),e[15]=u,e[16]=m,e[17]=n,e[18]=h,e[19]=L,e[20]=$,e[21]=f,e[22]=ee):ee=e[22];const te=ee;let se;e[23]!==t||e[24]!==M||e[25]!==I||e[26]!==n||e[27]!==y||e[28]!==te||e[29]!==p||e[30]!==k?(se=y?s.jsx(He,{contentRef:C,groups:M,hasOverflow:I,id:n,renderCityCards:te,selectedYear:p,toggleYear:k}):s.jsx(Pe,{cities:t,contentRef:C,hasOverflow:I,id:n,renderCityCards:te}),e[23]=t,e[24]=M,e[25]=I,e[26]=n,e[27]=y,e[28]=te,e[29]=p,e[30]=k,e[31]=se):se=e[31];const le=se,oe=`info-tab-cities info-tab-${n} ${i} 
    ${c?"info-tab-cities--visible":""}
    `,ne=`info-tab-cities__header info-tab-${n}__header`,ce=n+".title";let Z;e[32]!==_||e[33]!==ce?(Z=_(ce),e[32]=_,e[33]=ce,e[34]=Z):Z=e[34];let U;e[35]!==Z?(U=s.jsx("h1",{children:Z}),e[35]=Z,e[36]=U):U=e[36];let G;e[37]!==h||e[38]!==A||e[39]!==H?(G=s.jsx(Se,{isAutoPosition:h,responsive:A,setIsAutoPosition:H}),e[37]=h,e[38]=A,e[39]=H,e[40]=G):G=e[40];let W;e[41]!==E||e[42]!==n||e[43]!==j?(W=n==="visited"?s.jsx(we,{buttonIcon:s.jsx(xe,{className:"filter__icon"}),onChange:V,options:E,selected:j}):null,e[41]=E,e[42]=n,e[43]=j,e[44]=W):W=e[44];let q;e[45]!==G||e[46]!==W?(q=s.jsxs("div",{className:"info-tab-cities__header__buttons",children:[G,W]}),e[45]=G,e[46]=W,e[47]=q):q=e[47];let J;e[48]!==ne||e[49]!==U||e[50]!==q?(J=s.jsxs("div",{className:ne,children:[U,q]}),e[48]=ne,e[49]=U,e[50]=q,e[51]=J):J=e[51];let ie;return e[52]!==le||e[53]!==oe||e[54]!==J?(ie=s.jsxs("div",{className:oe,children:[J,le]}),e[52]=le,e[53]=oe,e[54]=J,e[55]=ie):ie=e[55],ie}function Ee(b,e){return b.id.localeCompare(e.id)}function He(b){const e=D.c(21),{groups:l,selectedYear:t,toggleYear:o,renderCityCards:m,id:n,hasOverflow:r,contentRef:a}=b;let i;if(e[0]!==l||e[1]!==t||e[2]!==o){let f;e[4]!==t||e[5]!==o?(f=(h,H)=>s.jsx("button",{className:`info-tab-cities__year__button ${t===parseInt(h)?"info-tab-cities__year__button--active":""}`,onClick:()=>o(parseInt(h)),type:"button",children:`${H===0?"â‰¤ ":""}${h}`},h),e[4]=t,e[5]=o,e[6]=f):f=e[6],i=ae(l).map(f),e[0]=l,e[1]=t,e[2]=o,e[3]=i}else i=e[3];let c;e[7]!==i?(c=s.jsx("div",{className:"info-tab-cities__header info-tab-cities__year__selector",children:i}),e[7]=i,e[8]=c):c=e[8];const y=`info-tab-cities__content--grouped ${r?"info-tab-cities__content--overflow":""}`;let d;e[9]!==l||e[10]!==n||e[11]!==m||e[12]!==t?(d=ae(l).map(f=>s.jsx("div",{className:"info-tab-cities__year-group",children:t===parseInt(f)?s.jsx("div",{className:`info-tab-cities__content info-tab-${n}__content`,children:m(l[f])}):null},f)),e[9]=l,e[10]=n,e[11]=m,e[12]=t,e[13]=d):d=e[13];let _;e[14]!==a||e[15]!==y||e[16]!==d?(_=s.jsx("div",{className:y,id:"info-tab",ref:a,children:d}),e[14]=a,e[15]=y,e[16]=d,e[17]=_):_=e[17];let $;return e[18]!==c||e[19]!==_?($=s.jsxs(s.Fragment,{children:[c,_]}),e[18]=c,e[19]=_,e[20]=$):$=e[20],$}function Pe(b){const e=D.c(7),{id:l,renderCityCards:t,cities:o,hasOverflow:m,contentRef:n}=b,r=`info-tab-cities__content info-tab-cities__content--single info-tab-${l}__content ${m?"info-tab-cities__content--overflow":""}`;let a;e[0]!==o||e[1]!==t?(a=t(o),e[0]=o,e[1]=t,e[2]=a):a=e[2];let i;return e[3]!==n||e[4]!==r||e[5]!==a?(i=s.jsx("div",{className:r,id:"info-tab",ref:n,children:a}),e[3]=n,e[4]=r,e[5]=a,e[6]=i):i=e[6],i}export{ze as I};
