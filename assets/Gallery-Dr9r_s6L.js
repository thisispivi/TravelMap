import{d as e,j as t,s,A as a,v as l,O as r}from"./vendor-CJygW6li.js";import{u as o}from"./index-DGHe59nE.js";import{R as n}from"./gallery-_k83rUEI.js";import{p as c,q as i,r as m,s as d}from"./icons-9ZlXhvAm.js";import{C as _}from"./CountryFlag-DjWk0q22.js";import"./map-Cd4XNAeV.js";import"./parameters-AtdN-mRF.js";import{f as h}from"./date-6TXu5sa-.js";import"./data-Di2FxgI_.js";function g(s){const a=e.c(3),{onClick:l,className:r}=s,o=`close-button ${void 0===r?"":r}`;let n;return a[0]!==l||a[1]!==o?(n=t.jsx(c,{className:o,onClick:l}),a[0]=l,a[1]=o,a[2]=n):n=a[2],n}function v(a){const l=e.c(29),{travels:r,selectedTravelIdx:n,cityName:c}=a;let d;l[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],l[0]=d):d=l[0];const{currLanguage:_}=o(d),g=s(),v=r[n];let j;l[1]!==r?(j=r.filter(u),l[1]=r,l[2]=j):j=l[2];const x=j,p="travel-selector__chevron-icon travel-selector__chevron-icon--left\n        "+(n>0?"":"travel-selector__chevron-icon--disabled");let y,f,N,C,b;l[3]!==c||l[4]!==g||l[5]!==n?(y=()=>n>0&&g(`/gallery/${c}/${n-1}`),l[3]=c,l[4]=g,l[5]=n,l[6]=y):y=l[6],l[7]!==p||l[8]!==y?(f=t.jsx(i,{className:p,onClick:y}),l[7]=p,l[8]=y,l[9]=f):f=l[9],l[10]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(m,{className:"travel-selector__icon"}),l[10]=N):N=l[10],l[11]!==_||l[12]!==v.eDate||l[13]!==v.sDate?(C=h({sDateInput:v.sDate,eDateInput:v.eDate,locale:_,includeWeekday:!0,showYear:!0}),l[11]=_,l[12]=v.eDate,l[13]=v.sDate,l[14]=C):C=l[14],l[15]!==C?(b=t.jsxs("div",{className:"travel-selector__info",children:[N,t.jsx("p",{className:"travel-selector__date",children:C})]}),l[15]=C,l[16]=b):b=l[16];const w="travel-selector__chevron-icon\n        "+(n<x.length-1?"":"travel-selector__chevron-icon--disabled");let $,k,D;return l[17]!==c||l[18]!==x.length||l[19]!==g||l[20]!==n?($=()=>n<x.length-1&&g(`/gallery/${c}/${n+1}`),l[17]=c,l[18]=x.length,l[19]=g,l[20]=n,l[21]=$):$=l[21],l[22]!==$||l[23]!==w?(k=t.jsx(i,{className:w,onClick:$}),l[22]=$,l[23]=w,l[24]=k):k=l[24],l[25]!==k||l[26]!==f||l[27]!==b?(D=t.jsxs("div",{className:"travel-selector",children:[f,b,k]}),l[25]=k,l[26]=f,l[27]=b,l[28]=D):D=l[28],D}function u(e){return!e.isFuture}function j(){const c=e.c(40);let i;c[0]===Symbol.for("react.memo_cache_sentinel")?(i=["home"],c[0]=i):i=c[0];const{t:m}=o(i),h=s(),{city:u,travelIdx:j}=a(),[p]=l();let y;c[1]!==p?(y=p.get("from"),c[1]=p,c[2]=y):y=c[2];const f=y,N=u.travels[j];let C;c[3]!==N.photos?(C=N.photos.map(x),c[3]=N.photos,c[4]=C):C=c[4];const b=C;let w,$,k,D,I,R,H,S,T,F,q,A;return c[5]!==u||c[6]!==m?(w=u.getName(m),c[5]=u,c[6]=m,c[7]=w):w=c[7],c[8]!==w?($=t.jsx("h2",{children:w}),c[8]=w,c[9]=$):$=c[9],c[10]!==u.country.id?(k=t.jsx(_,{className:"gallery__header__flag",countryId:u.country.id}),c[10]=u.country.id,c[11]=k):k=c[11],c[12]!==u.name||c[13]!==u.travels||c[14]!==j?(D=t.jsx(v,{cityName:u.name,selectedTravelIdx:j,travels:u.travels}),c[12]=u.name,c[13]=u.travels,c[14]=j,c[15]=D):D=c[15],c[16]!==f||c[17]!==h?(I=t.jsx(g,{onClick:()=>h("map"===f?"/":"/?to=visited")}),c[16]=f,c[17]=h,c[18]=I):I=c[18],c[19]!==$||c[20]!==k||c[21]!==D||c[22]!==I?(R=t.jsxs("div",{className:"gallery__header",children:[$,k,D,I]}),c[19]=$,c[20]=k,c[21]=D,c[22]=I,c[23]=R):R=c[23],c[24]!==h?(H=e=>{const{index:t}=e;return h(`./${t}`)},c[24]=h,c[25]=H):H=c[25],c[26]!==h?(S={image:(e,s)=>{const{photo:a}=s;return t.jsxs("div",{className:"gallery__content__image",children:[t.jsx("img",{...e,className:`${e.className??""}`}),a.youtube?t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"gallery__content__image__play",onClick:()=>h(`./${a.index}`)}),t.jsx("div",{className:"gallery__content__image__gradient",onClick:()=>h(`./${a.index}`)})]}):null]})}},c[26]=h,c[27]=S):S=c[27],c[28]!==b||c[29]!==S||c[30]!==H||c[31]!==N.rowConstraints||c[32]!==N.targetRowHeight?(T=t.jsx("div",{className:"gallery__content__photo-album",id:"gallery",children:t.jsx(n,{onClick:H,photos:b,render:S,rowConstraints:N.rowConstraints,targetRowHeight:N.targetRowHeight})}),c[28]=b,c[29]=S,c[30]=H,c[31]=N.rowConstraints,c[32]=N.targetRowHeight,c[33]=T):T=c[33],c[34]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(r,{}),c[34]=F):F=c[34],c[35]!==T?(q=t.jsxs("div",{className:"gallery__content",children:[T,F]}),c[35]=T,c[36]=q):q=c[36],c[37]!==q||c[38]!==R?(A=t.jsxs("div",{className:"gallery",children:[R,q]}),c[37]=q,c[38]=R,c[39]=A):A=c[39],A}function x(e,t){return{src:`https://pivi-travel-map.b-cdn.net/TravelMap/Travels${e.thumbnail}`,width:e.width,height:e.height,youtube:e.youtube,index:t}}export{j as default};
