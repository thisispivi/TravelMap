import{r as t,u as L,j as a,P as $,L as b,C as v}from"./index-BKfk211y.js";import{u as h}from"./language-CRK4poxz.js";import{S as k,f,a as T}from"./date-DphgbAsp.js";import{m as i}from"./responsive-_I9XGXAC.js";import"./useTranslation-C4ZPITCm.js";function y({status:n,delay:e}){const[s,o]=t.useState(n),r=t.useRef(Date.now());return t.useEffect(()=>{if(Date.now()-r.current>=e)r.current=Date.now(),o(n);else{const c=setTimeout(()=>{r.current=Date.now(),o(n)},e);return()=>clearTimeout(c)}},[n,e]),s}const C=({className:n="",city:e,travel:s,idx:o,isClickable:r=!1,hoveredCity:c,setHoveredCity:d,setMapPosition:l,isAutoPosition:x=!1,isHidden:j=!1})=>{const m=h([]).currentLanguage,p=L(),{t:u}=h(["home"]),[_,N]=t.useState(!0),g=y({status:_,delay:200}),D=()=>N(!1);return a.jsxs("div",{className:`city-card ${r?"city-card--clickable":"city-card--not-clickable"} 
      ${c&&c.name===e.name?"city-card--hovered":""}
      ${i()?"city-card--mobile":"city-card--desktop"}
      ${j?"city-card--hidden":"city-card--visible"}
      `,onClick:r?()=>p(`/gallery/${e.name}/${o}`):void 0,onMouseEnter:i()?void 0:()=>{l&&e.mapCoordinates&&x&&l({center:e.mapCoordinates,zoom:$.map.hoveredCityZoom}),d&&d(e)},onMouseLeave:i()?void 0:()=>d&&d(null),children:[a.jsxs("div",{className:`city-card__top ${n} ${e.name} ${e.name}-${o}`,children:[a.jsx("div",{className:"city-card__background",children:a.jsx("img",{alt:e.getName(u),onLoad:D,src:e.backgroundImgsSrc[o],style:{display:g?"none":"block"}})}),g?a.jsx(b,{}):null]}),a.jsxs("div",{className:"city-card__content",children:[a.jsxs("div",{className:"city-card__title",children:[a.jsx("h3",{children:e.getName(u)}),a.jsx(v,{countryId:e.country.id})]}),s!=null&&s.sDate?a.jsxs("div",{className:"travel-card__info",children:[a.jsx(k,{className:"travel-card__icon"}),a.jsx("p",{children:f(s.sDate,m)})]}):null,s!=null&&s.eDate?a.jsxs("div",{className:"travel-card__info",children:[a.jsx(T,{className:"travel-card__icon"}),a.jsx("p",{children:f(s.eDate,m)})]}):null]})]})},A=t.memo(C);export{A as default};
