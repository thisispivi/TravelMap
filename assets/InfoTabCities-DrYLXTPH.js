import{d as e,j as t,s as i,G as s,r as o,H as n}from"./vendor-CJygW6li.js";import{u as c,m as a,L as l,B as r,H as d}from"./index-DGHe59nE.js";import{r as m,z as _}from"./icons-9ZlXhvAm.js";import{C as f}from"./CountryFlag-DjWk0q22.js";import{C as u}from"./map-Cd4XNAeV.js";import{p as h,c as v}from"./parameters-AtdN-mRF.js";import{f as p}from"./date-6TXu5sa-.js";import{P as b}from"./PositionButton-C5bGCTEv.js";import{a as x}from"./cities-DCnw2blU.js";function j(i){const s=e.c(3),{onClick:o,isVisible:n,className:c}=i,a=`backdrop  ${void 0===n||n?"backdrop--visible":""} ${void 0===c?"":c}\n      `;let l;return s[0]!==o||s[1]!==a?(l=t.jsx("div",{className:a,onClick:o}),s[0]=o,s[1]=a,s[2]=l):l=s[2],l}function y(i){const s=e.c(2),{isChecked:o}=i,n=o?"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z":"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3ZM19 19H5V5H19V19Z";let c;return s[0]!==n?(c=t.jsx("svg",{fill:"none",height:"20",viewBox:"0 0 24 24",width:"20",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:n,fill:"currentColor"})}),s[0]=n,s[1]=c):c=s[1],c}function C(o){const n=e.c(49),{className:r,city:d,travel:_,travelIdx:u,isClickable:v,setHoveredCity:b,setMapPosition:x,isAutoPosition:j,isHidden:y}=o,C=void 0===r?"":r,N=void 0===u?0:u,g=void 0!==v&&v,$=void 0!==j&&j,k=void 0!==y&&y;let I;n[0]===Symbol.for("react.memo_cache_sentinel")?(I=[],n[0]=I):I=n[0];const w=c(I).currLanguage,P=i();let S;n[1]===Symbol.for("react.memo_cache_sentinel")?(S=["home"],n[1]=S):S=n[1];const{t:H}=c(S);let L;n[2]!==d||n[3]!==$||n[4]!==b||n[5]!==x?(L=()=>{a()||(x&&d.mapCoordinates&&$&&x({center:d.mapCoordinates,zoom:h.map.hoveredCityZoom}),b&&b(d))},n[2]=d,n[3]=$,n[4]=b,n[5]=x,n[6]=L):L=n[6];const E=L;let A;n[7]!==b?(A=()=>{a()||b&&b(null)},n[7]=b,n[8]=A):A=n[8];const R=A,Y=`city-card ${g?"city-card--clickable":"city-card--not-clickable"} \n      ${a()?"city-card--mobile":"city-card--desktop"}\n      ${k?"city-card--hidden":"city-card--visible"}\n      `;let B;n[9]!==d.name||n[10]!==g||n[11]!==P||n[12]!==N?(B=g?()=>P(`/gallery/${d.name}/${N}`):void 0,n[9]=d.name,n[10]=g,n[11]=P,n[12]=N,n[13]=B):B=n[13];const M=`city-card__top ${C} ${d.name} ${d.name}-${N}`;let O,V,D,F,T,z,Z,G,U,W,q,J;return n[14]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"city-card__background-overlay"}),n[14]=O):O=n[14],n[15]!==d||n[16]!==H?(V=d.getName(H),n[15]=d,n[16]=H,n[17]=V):V=n[17],n[18]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"centered",children:t.jsx(l,{})}),n[18]=D):D=n[18],n[19]!==d||n[20]!==N?(F=d.getBackgroundImgSourceByIndex(N)||void 0,n[19]=d,n[20]=N,n[21]=F):F=n[21],n[22]!==V||n[23]!==F?(T=t.jsxs("div",{className:"city-card__background",children:[O,t.jsx(s.LazyLoadImage,{alt:V,className:"city-card__background-img",effect:"opacity",placeholder:D,src:F})]}),n[22]=V,n[23]=F,n[24]=T):T=n[24],n[25]!==M||n[26]!==T?(z=t.jsx("div",{className:M,children:T}),n[25]=M,n[26]=T,n[27]=z):z=n[27],n[28]!==d.country.id?(Z=t.jsx(f,{className:"city-card__country",countryId:d.country.id}),n[28]=d.country.id,n[29]=Z):Z=n[29],n[30]!==d||n[31]!==H?(G=d.getName(H),n[30]=d,n[31]=H,n[32]=G):G=n[32],n[33]!==G?(U=t.jsx("div",{className:"city-card__title",children:t.jsx("h2",{children:G})}),n[33]=G,n[34]=U):U=n[34],n[35]!==w||n[36]!==_?(W=_?.sDate?t.jsxs("div",{className:"travel-card__info",children:[t.jsx(m,{className:"travel-card__icon"}),t.jsx("p",{children:p({sDateInput:_.sDate,eDateInput:_.eDate,locale:w,includeWeekday:!0,showYear:!1})})]}):null,n[35]=w,n[36]=_,n[37]=W):W=n[37],n[38]!==Z||n[39]!==U||n[40]!==W?(q=t.jsxs("div",{className:"city-card__content",children:[Z,U,W]}),n[38]=Z,n[39]=U,n[40]=W,n[41]=q):q=n[41],n[42]!==E||n[43]!==R||n[44]!==Y||n[45]!==B||n[46]!==z||n[47]!==q?(J=t.jsxs("div",{className:Y,onClick:B,onMouseEnter:E,onMouseLeave:R,children:[z,q]}),n[42]=E,n[43]=R,n[44]=Y,n[45]=B,n[46]=z,n[47]=q,n[48]=J):J=n[48],J}function N(i){const s=e.c(55),{options:n,selected:a,onChange:l,buttonIcon:d,className:m}=i,_=void 0===m?"":m;let h;s[0]===Symbol.for("react.memo_cache_sentinel")?(h=["home"],s[0]=h):h=s[0];const{t:v}=c(h),[p,b]=o.useState(!1);let x;s[1]!==p?(x=()=>b(!p),s[1]=p,s[2]=x):x=s[2];const C=x,N=o.useRef(null),$=a.length===n.length;let k;s[3]!==$||s[4]!==l||s[5]!==n?(k=()=>{l($?[]:n)},s[3]=$,s[4]=l,s[5]=n,s[6]=k):k=s[6];const I=k;let w;s[7]!==l||s[8]!==a?(w=e=>{const t=a.includes(e)?a.filter(t=>t!==e):[...a,e];l(t)},s[7]=l,s[8]=a,s[9]=w):w=s[9];const P=w,S=g;let H,L;s[10]!==p||s[11]!==C?(H=p?t.jsx(j,{className:"filter-backdrop",isVisible:!1,onClick:C}):null,s[10]=p,s[11]=C,s[12]=H):H=s[12],s[13]!==v?(L=v("filterTooltip"),s[13]=v,s[14]=L):L=s[14];const E=`filter__button ${_} ${p?"filter__button--open":""}`;let A,R,Y,B,M,O,V,D,F,T,z;if(s[15]!==v?(A=v("filterTooltip"),s[15]=v,s[16]=A):A=s[16],s[17]!==d||s[18]!==C||s[19]!==L||s[20]!==E||s[21]!==A?(R=t.jsx(r,{ariaLabel:L,className:E,onClick:C,tooltipContent:A,tooltipId:"base-tooltip",children:d}),s[17]=d,s[18]=C,s[19]=L,s[20]=E,s[21]=A,s[22]=R):R=s[22],s[23]!==$?(Y=t.jsx("div",{className:"filter__option--select-all__icon",children:t.jsx(y,{isChecked:$})}),s[23]=$,s[24]=Y):Y=s[24],s[25]!==$||s[26]!==v?(B=v($?"deselectAll":"selectAll"),s[25]=$,s[26]=v,s[27]=B):B=s[27],s[28]!==B?(M=t.jsx("h4",{className:"filter__option--select-all__text",children:B}),s[28]=B,s[29]=M):M=s[29],s[30]!==I||s[31]!==Y||s[32]!==M?(O=t.jsxs("div",{className:`${S()} filter__option--select-all`,onClick:I,children:[Y,M]}),s[30]=I,s[31]=Y,s[32]=M,s[33]=O):O=s[33],s[34]!==P||s[35]!==n||s[36]!==a||s[37]!==v){let e;s[39]!==P||s[40]!==a||s[41]!==v?(e=e=>t.jsxs("div",{className:S(a.includes(e)),onClick:()=>P(e),children:[t.jsx(f,{countryId:e.id}),t.jsx("h4",{children:v(`countries.${e.id.replace(" ","")}`)})]},e.id),s[39]=P,s[40]=a,s[41]=v,s[42]=e):e=s[42],V=n.map(e),s[34]=P,s[35]=n,s[36]=a,s[37]=v,s[38]=V}else V=s[38];return s[43]!==O||s[44]!==V?(D=t.jsx("div",{className:"filter__options",ref:N,children:t.jsxs("div",{className:"filter__options__list",id:"info-tab",children:[O,V]})}),s[43]=O,s[44]=V,s[45]=D):D=s[45],s[46]!==p||s[47]!==D?(F=t.jsx(u,{classNames:"filter-transition",in:p,nodeRef:N,timeout:200,unmountOnExit:!0,children:D}),s[46]=p,s[47]=D,s[48]=F):F=s[48],s[49]!==R||s[50]!==F?(T=t.jsxs("div",{className:"filter",children:[R,F]}),s[49]=R,s[50]=F,s[51]=T):T=s[51],s[52]!==T||s[53]!==H?(z=t.jsxs(t.Fragment,{children:[H,T]}),s[52]=T,s[53]=H,s[54]=z):z=s[54],z}function g(e){return`filter__option ${void 0!==e&&e?"filter__option--selected":""} ${a()?"filter__option--mobile":""}`.trim()}function $(i){const s=e.c(56),{allCountries:n,cities:a,className:l,getTravelIdx:r,id:m,isVisible:f,isGroupedByYear:u}=i,h=void 0===l?"":l,p=void 0!==f&&f,j=void 0!==u&&u;let y;s[0]===Symbol.for("react.memo_cache_sentinel")?(y=["home"],s[0]=y):y=s[0];const{t:g}=c(y),{setHoveredCity:$,setMapPosition:P,isAutoPosition:S,setIsAutoPosition:H,responsive:L,mapPosition:E}=o.useContext(d),A=n,[R,Y]=o.useState(A);let B;s[1]===Symbol.for("react.memo_cache_sentinel")?(B=e=>Y(e),s[1]=B):B=s[1];const M=B;let O;s[2]!==R?(O=[...R].sort(k),s[2]=R,s[3]=O):O=s[3];const V=O,[D,F]=o.useState(v.GROUP_BY_CITIES_DEFAULT_OPENED_YEAR);let T;s[4]!==D?(T=e=>D!==e?F(e):void 0,s[4]=D,s[5]=T):T=s[5];const z=T,[Z,G]=o.useState(!1),U=o.useRef(null);let W;s[6]===Symbol.for("react.memo_cache_sentinel")?(W=()=>{if(U.current){const e=U.current;G(e.scrollHeight>e.clientHeight)}},s[6]=W):W=s[6];const q=W;let J,K,Q;s[7]===Symbol.for("react.memo_cache_sentinel")?(J=()=>{q();const e=()=>q();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},s[7]=J):J=s[7],s[8]!==a||s[9]!==R||s[10]!==p||s[11]!==D?(K=[a,R,D,p],s[8]=a,s[9]=R,s[10]=p,s[11]=D,s[12]=K):K=s[12],o.useEffect(J,K),s[13]!==a?(Q=x(a,{cutoffYear:v.GROUP_BY_CITIES_CUTOFF_YEAR}),s[13]=a,s[14]=Q):Q=s[14];const X=Q;if(!p)return null;let ee;s[15]!==R||s[16]!==r||s[17]!==m||s[18]!==S||s[19]!==E||s[20]!==$||s[21]!==P?(ee=e=>t.jsxs(t.Fragment,{children:[e.map(e=>{const i=e.travels[0],s=!R.includes(e.country),o=Boolean(i?.photos?.length);return t.jsx(C,{city:e,isAutoPosition:S,isClickable:o,isHidden:s,mapPosition:E,setHoveredCity:$,setMapPosition:P,travel:i,travelIdx:i?r?.(e,i):void 0},e.name)}),e.reduce((e,t)=>e+(R.includes(t.country)?1:0),0)%2!=0?t.jsx("div",{className:`info-tab-cities__void-city info-tab-${m}__void-city city-card city-card--no-box-shadow`}):null]}),s[15]=R,s[16]=r,s[17]=m,s[18]=S,s[19]=E,s[20]=$,s[21]=P,s[22]=ee):ee=s[22];const te=ee;let ie;s[23]!==a||s[24]!==X||s[25]!==Z||s[26]!==m||s[27]!==j||s[28]!==te||s[29]!==D||s[30]!==z?(ie=j?t.jsx(I,{contentRef:U,groups:X,hasOverflow:Z,id:m,renderCityCards:te,selectedYear:D,toggleYear:z}):t.jsx(w,{cities:a,contentRef:U,hasOverflow:Z,id:m,renderCityCards:te}),s[23]=a,s[24]=X,s[25]=Z,s[26]=m,s[27]=j,s[28]=te,s[29]=D,s[30]=z,s[31]=ie):ie=s[31];const se=ie,oe=`info-tab-cities info-tab-${m} ${h} \n    ${p?"info-tab-cities--visible":""}\n    `,ne=`info-tab-cities__header info-tab-${m}__header`,ce=m+".title";let ae,le,re,de,me,_e,fe;return s[32]!==g||s[33]!==ce?(ae=g(ce),s[32]=g,s[33]=ce,s[34]=ae):ae=s[34],s[35]!==ae?(le=t.jsx("h1",{children:ae}),s[35]=ae,s[36]=le):le=s[36],s[37]!==S||s[38]!==L||s[39]!==H?(re=t.jsx(b,{isAutoPosition:S,responsive:L,setIsAutoPosition:H}),s[37]=S,s[38]=L,s[39]=H,s[40]=re):re=s[40],s[41]!==A||s[42]!==m||s[43]!==V?(de="visited"===m?t.jsx(N,{buttonIcon:t.jsx(_,{className:"filter__icon"}),onChange:M,options:A,selected:V}):null,s[41]=A,s[42]=m,s[43]=V,s[44]=de):de=s[44],s[45]!==re||s[46]!==de?(me=t.jsxs("div",{className:"info-tab-cities__header__buttons",children:[re,de]}),s[45]=re,s[46]=de,s[47]=me):me=s[47],s[48]!==ne||s[49]!==le||s[50]!==me?(_e=t.jsxs("div",{className:ne,children:[le,me]}),s[48]=ne,s[49]=le,s[50]=me,s[51]=_e):_e=s[51],s[52]!==se||s[53]!==oe||s[54]!==_e?(fe=t.jsxs("div",{className:oe,children:[_e,se]}),s[52]=se,s[53]=oe,s[54]=_e,s[55]=fe):fe=s[55],fe}function k(e,t){return e.id.localeCompare(t.id)}function I(i){const s=e.c(21),{groups:o,selectedYear:c,toggleYear:a,renderCityCards:l,id:r,hasOverflow:d,contentRef:m}=i;let _,f;if(s[0]!==o||s[1]!==c||s[2]!==a){let e;s[4]!==c||s[5]!==a?(e=(e,i)=>t.jsx("button",{className:"info-tab-cities__year__button "+(c===parseInt(e)?"info-tab-cities__year__button--active":""),onClick:()=>a(parseInt(e)),type:"button",children:`${0===i?"â‰¤ ":""}${e}`},e),s[4]=c,s[5]=a,s[6]=e):e=s[6],_=n(o).map(e),s[0]=o,s[1]=c,s[2]=a,s[3]=_}else _=s[3];s[7]!==_?(f=t.jsx("div",{className:"info-tab-cities__header info-tab-cities__year__selector",children:_}),s[7]=_,s[8]=f):f=s[8];const u="info-tab-cities__content--grouped "+(d?"info-tab-cities__content--overflow":"");let h,v,p;return s[9]!==o||s[10]!==r||s[11]!==l||s[12]!==c?(h=n(o).map(e=>t.jsx("div",{className:"info-tab-cities__year-group",children:c===parseInt(e)?t.jsx("div",{className:`info-tab-cities__content info-tab-${r}__content`,children:l(o[e])}):null},e)),s[9]=o,s[10]=r,s[11]=l,s[12]=c,s[13]=h):h=s[13],s[14]!==m||s[15]!==u||s[16]!==h?(v=t.jsx("div",{className:u,id:"info-tab",ref:m,children:h}),s[14]=m,s[15]=u,s[16]=h,s[17]=v):v=s[17],s[18]!==f||s[19]!==v?(p=t.jsxs(t.Fragment,{children:[f,v]}),s[18]=f,s[19]=v,s[20]=p):p=s[20],p}function w(i){const s=e.c(7),{id:o,renderCityCards:n,cities:c,hasOverflow:a,contentRef:l}=i,r=`info-tab-cities__content info-tab-cities__content--single info-tab-${o}__content ${a?"info-tab-cities__content--overflow":""}`;let d,m;return s[0]!==c||s[1]!==n?(d=n(c),s[0]=c,s[1]=n,s[2]=d):d=s[2],s[3]!==l||s[4]!==r||s[5]!==d?(m=t.jsx("div",{className:r,id:"info-tab",ref:l,children:d}),s[3]=l,s[4]=r,s[5]=d,s[6]=m):m=s[6],m}export{$ as I};
